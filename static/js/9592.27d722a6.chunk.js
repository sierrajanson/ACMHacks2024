"use strict";(self.webpackChunkbox=self.webpackChunkbox||[]).push([[9592],{90707:(t,e,n)=>{n.d(e,{l:()=>c});var a=n(15941),i=n(34761),r=n(9392);function s(t,e,n){const a=Math.sin(t),i=Math.cos(t),r=Math.sin(e),s=Math.cos(e),o=n;return o[0]=-a,o[4]=-r*i,o[8]=s*i,o[12]=0,o[1]=i,o[5]=-r*a,o[9]=s*a,o[13]=0,o[2]=0,o[6]=s,o[10]=r,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}var o=n(43955),h=n(80963);function c(t,e,n,a){if(null==t||null==a)return!1;const r=(0,o.Qk)(t,o.Wv),c=(0,o.Qk)(a,o.zp);if(r===c&&!u(c)&&(r!==o.rz.UNKNOWN||(0,h.aI)(t,a)))return(0,i.kN)(n,e),!0;if(u(c)){const t=o.w5[r][o.rz.LON_LAT],a=o.w5[o.rz.LON_LAT][c];return null!=t&&null!=a&&(t(e,0,d,0),a(d,0,f,0),s(l*d[0],l*d[1],n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}if(!(c!==o.rz.WEB_MERCATOR&&c!==o.rz.PLATE_CARREE&&c!==o.rz.WGS84&&c!==o.rz.CGCS2000||r!==o.rz.WGS84&&r!==o.rz.SPHERICAL_ECEF&&r!==o.rz.WEB_MERCATOR&&r!==o.rz.CGCS2000)){const t=o.w5[r][o.rz.LON_LAT],a=o.w5[o.rz.LON_LAT][c];return null!=t&&null!=a&&(t(e,0,d,0),a(d,0,f,0),r===o.rz.SPHERICAL_ECEF?function(t,e,n){s(t,e,n),(0,i.mg)(n,n)}(l*d[0],l*d[1],n):(0,i.D_)(n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}return!1}function u(t){return t===o.rz.SPHERICAL_ECEF||t===o.rz.SPHERICAL_MARS_PCPF||t===o.rz.SPHERICAL_MOON_PCPF}const l=(0,a.kU)(1),d=(0,r.vt)(),f=(0,r.vt)()},98510:(t,e,n)=>{n.d(e,{Y0:()=>c,lO:()=>u});var a=n(34111),i=n(13312),r=n(80963);const s=new i.A(a.fv),o=new i.A(a.FY),h=new i.A(a.LJ),c=new i.A(a.Ro);function u(t){const e=l.get(t);if(e)return e;let n=s;if(t)if(t===o)n=o;else if(t===h)n=h;else{const e=t.wkid,a=t.latestWkid;if(null!=e||null!=a)(0,r.tl)(e)||(0,r.tl)(a)?n=o:((0,r.ZL)(e)||(0,r.ZL)(a))&&(n=h);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===d?n=o:t===f&&(n=h)}}}return l.set(t,n),n}const l=new Map,d=o.wkt.toUpperCase(),f=h.wkt.toUpperCase()},89802:(t,e,n)=>{n.d(e,{vt:()=>r,lU:()=>o,Qj:()=>s});n(15941);var a=n(20664),i=n(9392);n(43047),n(96190),n(75762);(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)();function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return[t[0],t[1],t[2],t[3]]}function s(t){return t}function o(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.floor(n*(1/3)),v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor(n*(2/3));if(n<3)return!1;e(c,i);let _=s,E=!1;for(;_<n-1&&!E;)e(u,_),_++,E=!(0,a.e)(c,u);if(!E)return!1;for(_=Math.max(_,v),E=!1;_<n&&!E;)e(l,_),_++,(0,a.f)(d,c,u),(0,a.n)(d,d),(0,a.f)(f,u,l),(0,a.n)(f,f),E=!(0,a.e)(c,l)&&!(0,a.e)(u,l)&&Math.abs((0,a.m)(d,f))<h;return E?(function(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r();const i=n[0]-e[0],s=n[1]-e[1],o=n[2]-e[2],h=t[0]-e[0],c=t[1]-e[1],u=t[2]-e[2],l=s*u-o*c,d=o*h-i*u,f=i*c-s*h,v=l*l+d*d+f*f,_=Math.abs(v-1)>1e-5&&v>1e-12?1/Math.sqrt(v):1;a[0]=l*_,a[1]=d*_,a[2]=f*_,a[3]=-(a[0]*t[0]+a[1]*t[1]+a[2]*t[2])}(c,u,l,t),!0):(0!==i||1!==s||2!==v)&&o(t,e,n,0,1,2)}const h=.99619469809,c=(0,i.vt)(),u=(0,i.vt)(),l=(0,i.vt)(),d=(0,i.vt)(),f=(0,i.vt)();const v=[0,0,1,0];var _;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(_||(_={}));_.INFINITE_MIN,_.INFINITE_MAX,_.INFINITE_MAX},96190:(t,e,n)=>{n.d(e,{g7:()=>s});var a=n(15941),i=n(20664),r=n(9392);function s(t,e){const n=(0,i.m)(t,e)/((0,i.l)(t)*(0,i.l)(e));return-(0,a.XM)(n)}(0,r.vt)(),(0,r.vt)()},75762:(t,e,n)=>{n.d(e,{Rc:()=>d,J8:()=>f,rq:()=>l});n(81806);var a=n(77944),i=n(44680),r=n(13191),s=n(4336),o=n(72745),h=n(9392),c=n(55855);class u{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,a.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new u(o.vt)}static createVec3f64(){return new u(h.vt)}static createVec4f64(){return new u(c.vt)}static createMat3f64(){return new u(i.vt)}static createMat4f64(){return new u(r.vt)}static createQuatf64(){return new u(s.vt)}get test(){}}u.createVec2f64();const l=u.createVec3f64(),d=(u.createVec4f64(),u.createMat3f64(),u.createMat4f64()),f=u.createQuatf64()},59231:(t,e,n)=>{n.d(e,{ab:()=>Nt,gm:()=>jt});var a=n(63919),i=n(44680),r=n(13191),s=n(60008),o=n(4336),h=n(20664),c=n(9392),u=n(43047),l=n(55855),d=n(34111),f=n(98510),v=n(90707),_=n(45308),E=n(43955),I=n(89802),A=n(80963),m=n(75762),N=n(64465),M=n(72745),g=n(50468);const T=1e-6,O=(0,c.vt)(),P=(0,c.vt)();function S(t,e,n,a,i,r,s,o,h,c){return function(t,e,n){let a=At(t.maxVert[0],t.minVert[0]),i=0;for(let r=1;r<7;++r){const e=At(t.maxVert[r],t.minVert[r]);e>a&&(a=e,i=r)}vt(e,t.minVert[i]),vt(n,t.maxVert[i])}(t,a,i),At(a,i)<T?1:(dt(s,a,i),Et(s,s),function(t,e,n,a){const{data:i,size:r}=t;let s=Number.NEGATIVE_INFINITY,o=0;for(let h=0;h<i.length;h+=r){x[0]=i[h]-e[0],x[1]=i[h+1]-e[1],x[2]=i[h+2]-e[2];const t=n[0]*x[0]+n[1]*x[1]+n[2]*x[2],a=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],r=x[0]*x[0]+x[1]*x[1]+x[2]*x[2]-t*t/a;r>s&&(s=r,o=h)}return vt(a,i,o),s}(e,a,s,r)<T?2:(dt(o,i,r),Et(o,o),dt(h,r,a),Et(h,h),_t(n,o,s),Et(n,n),Q(e,n,s,o,h,c),0))}const C=(0,c.vt)(),R=(0,c.vt)(),b=(0,c.vt)(),j=(0,c.vt)(),L=(0,c.vt)(),z=(0,c.vt)(),F=(0,c.vt)(),w=(0,c.vt)();function p(t,e,n,a,i,r,s,o,h){(function(t,e,n,a,i){!function(t,e,n,a,i){const{data:r,size:s}=t;vt(a,r),vt(i,a),n[0]=mt(X,e),n[1]=n[0];for(let o=s;o<r.length;o+=s){const t=r[o]*e[0]+r[o+1]*e[1]+r[o+2]*e[2];t<n[0]&&(n[0]=t,vt(a,r,o)),t>n[1]&&(n[1]=t,vt(i,r,o))}}(t,e,V,i,a);const r=mt(n,e);V[1]-T<=r&&(a[0]=void 0),V[0]+T>=r&&(i[0]=void 0)})(t,e,n,C,R),void 0!==C[0]&&(dt(b,C,n),Et(b,b),dt(j,C,a),Et(j,j),dt(L,C,i),Et(L,L),_t(z,j,r),Et(z,z),_t(F,L,s),Et(F,F),_t(w,b,o),Et(w,w),Q(t,z,r,j,b,h),Q(t,F,s,L,j,h),Q(t,w,o,b,L,h)),void 0!==R[0]&&(dt(b,R,n),Et(b,b),dt(j,R,a),Et(j,j),dt(L,R,i),Et(L,L),_t(z,j,r),Et(z,z),_t(F,L,s),Et(F,F),_t(w,b,o),Et(w,w),Q(t,z,r,j,b,h),Q(t,F,s,L,j,h),Q(t,w,o,b,L,h))}const x=[0,0,0];const V=(0,M.vt)();const D=(0,c.vt)(),U=(0,c.vt)(),y=(0,c.vt)(),q=(0,c.vt)(),B=(0,c.vt)(),G=(0,c.vt)();function Q(t,e,n,a,i,r){if(It(e)<T)return;_t(D,n,e),_t(U,a,e),_t(y,i,e),H(t,e,V),B[1]=V[0],q[1]=V[1],G[1]=q[1]-B[1];const s=[n,a,i],o=[D,U,y];for(let h=0;h<3;++h){H(t,s[h],V),B[0]=V[0],q[0]=V[1],H(t,o[h],V),B[2]=V[0],q[2]=V[1],G[0]=q[0]-B[0],G[2]=q[2]-B[2];const n=ut(G);n<r.quality&&(vt(r.b0,s[h]),vt(r.b1,e),vt(r.b2,o[h]),r.quality=n)}}const X=(0,c.vt)();function H(t,e,n){const{data:a,size:i}=t;n[0]=Number.POSITIVE_INFINITY,n[1]=Number.NEGATIVE_INFINITY;for(let r=0;r<a.length;r+=i){const t=a[r]*e[0]+a[r+1]*e[1]+a[r+2]*e[2];n[0]=Math.min(n[0],t),n[1]=Math.max(n[1],t)}}function k(t,e,n){n.center=t,n.halfSize=(0,h.j)(e,e,.5),n.quaternion=o.zK}const Y=(0,c.vt)(),W=(0,c.vt)(),Z=(0,c.vt)(),K=(0,c.vt)(),J=(0,c.vt)(),$=(0,c.vt)();function tt(t,e,n){vt(Y,e),Math.abs(e[0])>Math.abs(e[1])&&Math.abs(e[0])>Math.abs(e[2])?Y[0]=0:Math.abs(e[1])>Math.abs(e[2])?Y[1]=0:Y[2]=0,It(Y)<T&&(Y[0]=Y[1]=Y[2]=1),_t(W,e,Y),Et(W,W),_t(Z,e,W),Et(Z,Z),et(t,e,W,Z,K,J),dt($,J,K),ot(e,W,Z,K,J,$,n)}function et(t,e,n,a,i,r){H(t,e,V),i[0]=V[0],r[0]=V[1],H(t,n,V),i[1]=V[0],r[1]=V[1],H(t,a,V),i[2]=V[0],r[2]=V[1]}const nt=(0,c.vt)(),at=(0,c.vt)(),it=(0,c.vt)(),rt=(0,i.fA)(1,0,0,0,1,0,0,0,1),st=(0,o.vt)();function ot(t,e,n,a,i,r,s){rt[0]=t[0],rt[1]=t[1],rt[2]=t[2],rt[3]=e[0],rt[4]=e[1],rt[5]=e[2],rt[6]=n[0],rt[7]=n[1],rt[8]=n[2],s.quaternion=function(t,e){const n=e[0]+e[4]+e[8];if(n>0){let a=Math.sqrt(n+1);t[3]=.5*a,a=.5/a,t[0]=(e[5]-e[7])*a,t[1]=(e[6]-e[2])*a,t[2]=(e[1]-e[3])*a}else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const a=(n+1)%3,i=(n+2)%3;let r=Math.sqrt(e[3*n+n]-e[3*a+a]-e[3*i+i]+1);t[n]=.5*r,r=.5/r,t[3]=(e[3*a+i]-e[3*i+a])*r,t[a]=(e[3*a+n]+e[3*n+a])*r,t[i]=(e[3*i+n]+e[3*n+i])*r}return t}(st,rt),lt(nt,a,i),ft(nt,nt,.5),ft(at,t,nt[0]),ft(it,e,nt[1]),lt(at,at,it),ft(it,n,nt[2]),s.center=(0,h.g)(at,at,it),s.halfSize=(0,h.j)(nt,r,.5)}class ht{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7);this.buffer=new ArrayBuffer(448);let e=0;this.minProj=new Float64Array(this.buffer,e,7),e+=56,this.maxProj=new Float64Array(this.buffer,e,7),e+=56;for(let s=0;s<7;++s)this.minVert[s]=new Float64Array(this.buffer,e,3),e+=24;for(let s=0;s<7;++s)this.maxVert[s]=new Float64Array(this.buffer,e,3),e+=24;for(let s=0;s<7;++s)this.minProj[s]=Number.POSITIVE_INFINITY,this.maxProj[s]=Number.NEGATIVE_INFINITY;const n=new Array(7),a=new Array(7),{data:i,size:r}=t;for(let s=0;s<i.length;s+=r){let t=i[s];t<this.minProj[0]&&(this.minProj[0]=t,n[0]=s),t>this.maxProj[0]&&(this.maxProj[0]=t,a[0]=s),t=i[s+1],t<this.minProj[1]&&(this.minProj[1]=t,n[1]=s),t>this.maxProj[1]&&(this.maxProj[1]=t,a[1]=s),t=i[s+2],t<this.minProj[2]&&(this.minProj[2]=t,n[2]=s),t>this.maxProj[2]&&(this.maxProj[2]=t,a[2]=s),t=i[s]+i[s+1]+i[s+2],t<this.minProj[3]&&(this.minProj[3]=t,n[3]=s),t>this.maxProj[3]&&(this.maxProj[3]=t,a[3]=s),t=i[s]+i[s+1]-i[s+2],t<this.minProj[4]&&(this.minProj[4]=t,n[4]=s),t>this.maxProj[4]&&(this.maxProj[4]=t,a[4]=s),t=i[s]-i[s+1]+i[s+2],t<this.minProj[5]&&(this.minProj[5]=t,n[5]=s),t>this.maxProj[5]&&(this.maxProj[5]=t,a[5]=s),t=i[s]-i[s+1]-i[s+2],t<this.minProj[6]&&(this.minProj[6]=t,n[6]=s),t>this.maxProj[6]&&(this.maxProj[6]=t,a[6]=s)}for(let s=0;s<7;++s){let t=n[s];vt(this.minVert[s],i,t),t=a[s],vt(this.maxVert[s],i,t)}}}class ct{constructor(){this.b0=(0,c.fA)(1,0,0),this.b1=(0,c.fA)(0,1,0),this.b2=(0,c.fA)(0,0,1),this.quality=0}}function ut(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function lt(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2]}function dt(t,e,n){t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2]}function ft(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n}function vt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[0]=e[n],t[1]=e[n+1],t[2]=e[n+2]}function _t(t,e,n){const a=e[0],i=e[1],r=e[2],s=n[0],o=n[1],h=n[2];t[0]=i*h-r*o,t[1]=r*s-a*h,t[2]=a*o-i*s}function Et(t,e){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(n>0){const a=1/Math.sqrt(n);t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a}}function It(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function At(t,e){const n=e[0]-t[0],a=e[1]-t[1],i=e[2]-t[2];return n*n+a*a+i*i}function mt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}class Nt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.uY,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.zK;this._data=[t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3]]}clone(){const t=new Nt;return t._data=this._data.slice(),t}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const e=new Nt;return e._data=t.slice(),e}static fromJSON(t){return new Nt(t.center,t.halfSize,t.quaternion)}copy(t){this._data=t.data.slice()}get center(){return(0,h.s)(m.rq.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,e,n){this._data[0]=t,this._data[1]=e,this._data[2]=n}get halfSize(){return(0,h.s)(m.rq.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,s.hZ)(m.J8.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const e=Mt,n=this._data;e[0]=n[6],e[1]=n[7],e[2]=n[8],e[3]=n[9];for(let a=0;a<8;++a){const i=t[a];i[0]=(1&a?-1:1)*n[3],i[1]=(2&a?-1:1)*n[4],i[2]=(4&a?-1:1)*n[5],(0,h.u)(i,i,e),i[0]+=n[0],i[1]+=n[1],i[2]+=n[2]}}doesIntersectFrustumConservativeApproximation(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],e=this._data[4],n=this._data[5];return Math.sqrt(t*t+e*e+n*n)}intersectSphere(t){Ot[0]=this._data[0]-t[0],Ot[1]=this._data[1]-t[1],Ot[2]=this._data[2]-t[2];const e=this.getQuaternion(gt);return(0,s.Xr)(Mt,e),(0,h.u)(Ot,Ot,Mt),(0,h.v)(Ot,Ot),Pt[0]=Math.min(Ot[0],this._data[3]),Pt[1]=Math.min(Ot[1],this._data[4]),Pt[2]=Math.min(Ot[2],this._data[5]),(0,h.w)(Pt,Ot)<t[3]*t[3]}intersectSphereWithMBS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.radius;const n=this._data;Ot[0]=n[0]-t[0],Ot[1]=n[1]-t[1],Ot[2]=n[2]-t[2];const a=t[3],i=a+e;return!((0,h.x)(Ot)>i*i)&&(Mt[0]=-n[6],Mt[1]=-n[7],Mt[2]=-n[8],Mt[3]=n[9],(0,h.u)(Ot,Ot,Mt),(0,h.v)(Ot,Ot),Pt[0]=Math.min(Ot[0],n[3]),Pt[1]=Math.min(Ot[1],n[4]),Pt[2]=Math.min(Ot[2],n[5]),(0,h.w)(Pt,Ot)<a*a)}intersectPlane(t){const e=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],n=this.projectedRadius((0,I.Qj)(t));return e>n?1:e<-n?-1:0}intersectRay(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=this._data,i=Mt;i[0]=-a[6],i[1]=-a[7],i[2]=-a[8],i[3]=a[9],Ot[0]=t[0]-a[0],Ot[1]=t[1]-a[1],Ot[2]=t[2]-a[2];const r=(0,h.u)(Ot,Ot,Mt),s=(0,h.u)(Pt,e,Mt);let o=-1/0,c=1/0;const u=this.getHalfSize(Vt);for(let h=0;h<3;h++){const t=r[h],e=s[h],a=u[h]+n;if(Math.abs(e)>1e-6){const n=(a-t)/e,i=(-a-t)/e;o=Math.max(o,Math.min(n,i)),c=Math.min(c,Math.max(n,i))}else if(t>a||t<-a)return!1}return o<=c}projectedArea(t,e,n,i){const r=this.getQuaternion(gt);(0,s.Xr)(Mt,r),Ot[0]=t[0]-this._data[0],Ot[1]=t[1]-this._data[1],Ot[2]=t[2]-this._data[2],(0,h.u)(Ot,Ot,Mt);const o=this.getHalfSize(Vt),c=Ot[0]<-o[0]?-1:Ot[0]>o[0]?1:0,l=Ot[1]<-o[1]?-1:Ot[1]>o[1]?1:0,d=Ot[2]<-o[2]?-1:Ot[2]>o[2]?1:0,f=Math.abs(c)+Math.abs(l)+Math.abs(d);if(0===f)return 1/0;const v=1===f?4:6,_=6*(c+3*l+9*d+13);(0,a.I0)(Dt,r),(0,a.hs)(Dt,Dt,o);const E=this.getCenter(pt);for(let a=0;a<v;a++){const t=bt[_+a];(0,h.s)(Ot,((1&t)<<1)-1,(2&t)-1,((4&t)>>1)-1),(0,h.t)(Ot,Ot,Dt),(0,h.g)(St,E,Ot),St[3]=1,(0,u.t)(St,St,e);const n=1/Math.max(1e-6,St[3]);Rt[2*a]=St[0]*n,Rt[2*a+1]=St[1]*n}const I=2*v-2;let A=Rt[0]*(Rt[3]-Rt[I+1])+Rt[I]*(Rt[1]-Rt[I-1]);for(let a=2;a<I;a+=2)A+=Rt[a]*(Rt[a+3]-Rt[a-1]);return Math.abs(A)*n*i*.125}projectedRadius(t){const e=this.getQuaternion(gt);return(0,s.Xr)(Mt,e),(0,h.u)(Ot,t,Mt),Math.abs(Ot[0]*this._data[3])+Math.abs(Ot[1]*this._data[4])+Math.abs(Ot[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,I.Qj)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,I.Qj)(t))}toAaBoundingBox(t){const e=this.getQuaternion(gt),n=(0,a.I0)(Dt,e),i=this._data[3]*Math.abs(n[0])+this._data[4]*Math.abs(n[3])+this._data[5]*Math.abs(n[6]),r=this._data[3]*Math.abs(n[1])+this._data[4]*Math.abs(n[4])+this._data[5]*Math.abs(n[7]),s=this._data[3]*Math.abs(n[2])+this._data[4]*Math.abs(n[5])+this._data[5]*Math.abs(n[8]);t[0]=this._data[0]-i,t[1]=this._data[1]-r,t[2]=this._data[2]-s,t[3]=this._data[0]+i,t[4]=this._data[1]+r,t[5]=this._data[2]+s}transform(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,f.lO)(n),r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,f.lO)(e),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,E.jd)(e,r);if(n===i)e.isGeographic?function(t,e,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,f.lO)(n);const r=(0,d.tO)(n),o=1+Math.max(0,a)/(r.radius+t.centerZ);t.getCenter(wt),wt[2]+=a,(0,_.projectBuffer)(wt,n,0,wt,i,0,1),e.center=wt;const c=t.getQuaternion(gt);e.quaternion=c,(0,s.Xr)(Mt,c),(0,h.s)(qt,0,0,1),(0,h.u)(qt,qt,Mt);const u=t.getHalfSize(Vt);(0,h.s)(qt,u[0]*Math.abs(qt[0]),u[1]*Math.abs(qt[1]),u[2]*Math.abs(qt[2])),(0,h.j)(qt,qt,r.inverseFlattening),(0,h.g)(qt,u,qt),e.halfSize=(0,h.j)(qt,qt,o)}(this,t,e,a,r):function(t,e,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,f.lO)(n),r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,E.jd)(n,i);t.getCorners(yt),t.getCenter(wt),wt[2]+=a,(0,v.l)(n,wt,Ut,i),e.setCenter(Ut[12],Ut[13],Ut[14]);const o=2*Math.sqrt(1+Ut[0]+Ut[5]+Ut[10]);Mt[0]=(Ut[6]-Ut[9])/o,Mt[1]=(Ut[8]-Ut[2])/o,Mt[2]=(Ut[1]-Ut[4])/o,Mt[3]=.25*o;const c=t.getQuaternion(gt);e.quaternion=(0,s.lw)(Mt,Mt,c),(0,s.Xr)(Mt,Mt),(0,h.s)(Bt,0,0,0);const u=e.getCenter(xt);for(const s of yt)s[2]+=a,r(s,0,s,0),(0,h.z)(qt,s,u),(0,h.u)(qt,qt,Mt),(0,h.v)(qt,qt),(0,h.C)(Bt,Bt,qt);e.halfSize=Bt}(this,t,e,a,r,o);else if(e.isWGS84&&(n.isWebMercator||(0,A.r1)(n)))!function(t,e,n,a,i){e.getCenter(pt),pt[2]+=i;const r=(0,f.lO)(n);(0,_.projectBuffer)(pt,t,0,pt,r,0,1),Lt(r,e,pt,n,a)}(e,this,n,t,a);else if(e.isWebMercator&&(0,A.r1)(n))!function(t,e,n,a,i){e.getCenter(pt),pt[2]+=i,Lt(t,e,pt,n,a)}(e,this,n,t,a);else{const i=this.getCenter(pt);i[2]+=a,(0,_.projectBuffer)(i,e,0,i,n,0,1),t.center=i,this!==t&&(t.quaternion=this.getQuaternion(gt),t.halfSize=this.getHalfSize(Vt))}}}const Mt=(0,o.vt)(),gt=(0,o.vt)(),Tt=(0,o.vt)(),Ot=(0,c.vt)(),Pt=(0,c.vt)(),St=(0,l.vt)();function Ct(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nt;return function(t,e){const{data:n,size:a}=t,i=n.length/a;if(i<=0)return;const r=new ht(t);lt(O,r.minProj,r.maxProj),ft(O,O,.5),dt(P,r.maxProj,r.minProj);const s=ut(P),o=new ct;o.quality=s,i<14&&(t=new g.K(new Float64Array(r.buffer,112,42),3));const h=(0,c.vt)(),u=(0,c.vt)(),l=(0,c.vt)(),d=(0,c.vt)(),f=(0,c.vt)(),v=(0,c.vt)(),_=(0,c.vt)();switch(S(r,t,_,h,u,l,d,f,v,o)){case 1:return void k(O,P,e);case 2:return void tt(t,d,e)}p(t,_,h,u,l,d,f,v,o),et(t,o.b0,o.b1,o.b2,K,J);const E=(0,c.vt)();dt(E,J,K),o.quality=ut(E),o.quality<s?ot(o.b0,o.b1,o.b2,K,J,E,e):k(O,P,e)}(t,e),e}const Rt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],bt=(()=>{const t=new Int8Array(162);let e=0;const n=n=>{for(let a=0;a<n.length;a++)t[e+a]=n[a];e+=6};return n([6,2,3,1,5,4]),n([0,2,3,1,5,4]),n([0,2,3,7,5,4]),n([0,1,3,2,6,4]),n([0,1,3,2,0,0]),n([0,1,5,7,3,2]),n([0,1,3,7,6,4]),n([0,1,3,7,6,2]),n([0,1,5,7,6,2]),n([0,1,5,4,6,2]),n([0,1,5,4,0,0]),n([0,1,3,7,5,4]),n([0,2,6,4,0,0]),n([0,0,0,0,0,0]),n([1,3,7,5,0,0]),n([2,3,7,6,4,0]),n([2,3,7,6,0,0]),n([2,3,1,5,7,6]),n([0,1,5,7,6,2]),n([0,1,5,7,6,4]),n([0,1,3,7,6,4]),n([4,5,7,6,2,0]),n([4,5,7,6,0,0]),n([4,5,1,3,7,6]),n([0,2,3,7,5,4]),n([6,2,3,7,5,4]),n([6,2,3,1,5,4]),t})();function jt(t,e,n,a,i){const r=t.getQuaternion(gt);i.quaternion=r,(0,s.Xr)(Mt,r);const o=t.getCenter(pt),u=t.getHalfSize(Vt);if(a===N.RT.Global){(0,h.u)(qt,o,Mt),(0,h.v)(Bt,qt),(0,h.y)(Gt,Bt,u),(0,h.z)(Gt,Bt,Gt);const a=(0,h.l)(Gt);(0,h.g)(Gt,Bt,u);const r=(0,h.l)(Gt);if(a<n)i.center=o,(0,h.s)(qt,n,n,n),i.halfSize=(0,h.g)(qt,u,qt);else{const s=r>0?1+e/r:1,o=a>0?1+n/a:1,c=(o+s)/2,l=(o-s)/2;(0,h.j)(Gt,Bt,l),i.halfSize=(0,h.r)(Gt,Gt,u,c),(0,h.j)(Gt,Bt,c),(0,h.r)(Gt,Gt,u,l),(0,h.A)(qt,qt),(0,h.B)(qt,Gt,qt);const d=t.getQuaternion(Tt);i.center=(0,h.u)(qt,qt,d)}}else{i.center=(0,h.r)(qt,o,c.Cb,(n+e)/2);const t=(0,h.u)(qt,c.Cb,Mt);(0,h.v)(t,t),i.halfSize=(0,h.r)(Bt,u,t,(n-e)/2)}return i}function Lt(t,e,n,i,r){const s=e.getQuaternion(gt),o=(0,a.I0)(Dt,s),h=e.getHalfSize(Vt);for(let a=0;a<8;++a){for(let t=0;t<3;++t)wt[t]=h[t]*(a&1<<t?-1:1);for(let t=0;t<3;++t){let e=n[t];for(let n=0;n<3;++n)e+=wt[n]*o[3*n+t];zt[3*a+t]=e}}(0,_.projectBuffer)(zt,t,0,zt,i,0,8),Ct(Ft,r)}const zt=new Array(24),Ft=new g.K(zt,3),wt=(0,c.vt)(),pt=(0,c.vt)(),xt=(0,c.vt)(),Vt=(0,c.vt)(),Dt=(0,i.vt)(),Ut=(0,r.vt)(),yt=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],qt=(0,c.vt)(),Bt=(0,c.vt)(),Gt=(0,c.vt)(),Qt=(0,c.fA)(-1,-1,-1)},50468:(t,e,n)=>{n.d(e,{K:()=>a,n:()=>i});class a{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.data=t,this.size=e,this.stride=n}}class i extends a{constructor(t,e,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(t,n,arguments.length>4&&void 0!==arguments[4]?arguments[4]:n),this.indices=e,this.exclusive=a}}},66470:(t,e,n)=>{var a;n.d(e,{r:()=>a}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(a||(a={}))}}]);
//# sourceMappingURL=9592.27d722a6.chunk.js.map