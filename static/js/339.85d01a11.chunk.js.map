{"version":3,"file":"static/js/339.85d01a11.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/saveAPIKeyUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js","../node_modules/@arcgis/core/webdoc/support/webdocSaveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map((({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)})))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{allSettledErrors as t,throwIfAborted as r,eachAlways as o}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as a,contentToBlob as c}from\"../../portal/support/resourceUtils.js\";async function p(e,t,r){const o=await u(e,t,r);await h(o,t,r)}async function n(e,t,r,o,s){const a=await u(r,o,s);await e.update({data:t}),await h(a,o,s)}async function u(o,p,n){if(!p?.resources)return;const u=p.portalItem===o.portalItem?new Set(o.paths):new Set;o.paths.length=0,o.portalItem=p.portalItem;const h=new Set(p.resources.toKeep.map((e=>e.resource.path))),i=new Set,m=[];h.forEach((e=>{u.delete(e),o.paths.push(e)}));const f=[],l=[],w=[];for(const e of p.resources.toUpdate)if(u.delete(e.resource.path),h.has(e.resource.path)||i.has(e.resource.path)){const{resource:t,content:r,finish:p}=e,n=a(t,s());o.paths.push(n.path),f.push({resource:n,content:await c(r),compress:e.compress}),p&&w.push((()=>p(n)))}else{o.paths.push(e.resource.path),l.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource))),i.add(e.resource.path)}for(const e of p.resources.toAdd)if(o.paths.push(e.resource.path),u.has(e.resource.path))u.delete(e.resource.path);else{f.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource)))}if(f.length||l.length){const{addOrUpdateResources:e}=await import(\"../../portal/support/resourceUtils.js\");await e(p.portalItem,f,\"add\",n),await e(p.portalItem,l,\"update\",n)}if(w.forEach((e=>e())),0===m.length)return u;const d=await t(m);if(r(n),d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d});return u}async function h(e,t,r){if(!e||!t.portalItem)return;const s=[];for(const o of e){const e=t.portalItem.resourceFromPath(o);s.push(e.portalItem.removeResource(e,r))}await o(s)}export{p as saveResources,n as updateItemWithResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport o from\"../../config.js\";import r from\"../../core/Error.js\";import{supportsApiKey as p}from\"../../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{MultiOriginJSONSupport as t}from\"../../core/MultiOriginJSONSupport.js\";import{whenOnce as o}from\"../../core/reactiveUtils.js\";import{hasSameCanonicalPortal as r,urlToObject as a}from\"../../core/urlUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../../geometry/SpatialReference.js\";import{equals as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as l}from\"../../geometry/support/webMercatorUtils.js\";import{isServerOrServicesAGOLUrl as p}from\"../../layers/support/arcgisLayerUrl.js\";import{isLayerWithFeatureLayerSource as c,isFeatureCollectionLayer as m}from\"../../layers/support/layerUtils.js\";import u from\"../../portal/Portal.js\";import f from\"../../portal/PortalItem.js\";import{createForItemWrite as d}from\"../../portal/support/jsonContext.js\";import{typeKeyword as w,removeTypeKeyword as y,addTypeKeyword as h,hasTypeKeyword as g}from\"../../portal/support/portalItemUtils.js\";import{project as _}from\"../../rest/geometryService/project.js\";import b from\"../../rest/support/ProjectParameters.js\";import{hasDeveloperBasemapLayer as j,findSpatialReference as R,isDeveloperBasemapLayer as v}from\"../../support/basemapUtils.js\";import{saveResources as P}from\"./resourceUtils.js\";import{validateSaveAPIKey as W}from\"./saveAPIKeyUtils.js\";import{beforeSave as I,evaluateWriteErrors as S}from\"./saveUtils.js\";const A=[\"NatGeo_World_Map\",\"Ocean_Basemap\",\"USA_Topo_Maps\",\"World_Imagery\",\"World_Street_Map\",\"World_Terrain_Base\",\"World_Topo_Map\",\"World_Hillshade\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Reference_Overlay\",\"Reference/World_Transportation\"].map((e=>e.toLowerCase()));async function U(e,t,r){r??={},C(e,t),await o((()=>!t.updatingFromView)),await t.load(),await V(t),await I(t),await D(e,t);const a=t.portalItem,{json:i,jsonContext:n}=await O(t,a);return S(n,{errorName:`${e.name}:save`},r),await x(t,a),await we(e,t,a,i,n),await Promise.all([t.updateItemThumbnail(),P(t.resourceReferences,n)]),a}async function O(e,t){const o=d(t,\"web-map\",!0),r=e.write({},o);return await Promise.all(o.resources.pendingOperations),{json:r,jsonContext:o}}async function T(e,t,r,a){a??={};const i=E(e,r);await o((()=>!t.updatingFromView)),await t.load(),await V(t),await I(t),await D(e,t);const{json:n,jsonContext:s}=await O(t,i);S(s,{errorName:`${e.name}:save`},a),await Y(t,i);const l=t.getThumbnailState();return await ye(e,t,i,n,s,a)&&(t.resourceReferences.portalItem=i),t.restoreThumbnailFromState(l),await Promise.all([t.updateItemThumbnail(),P(t.resourceReferences,s)]),i}function C(t,o){if(!o.portalItem)throw new e(`${t.name}:portal-item-not-set`,\"Portal item to save to has not been set on the WebMap\");W(o.portalItem),M(t,o.portalItem)}function M(t,o){if(o.type!==t.itemType)throw new e(`${t.name}:portal-item-wrong-type`,`Portal item needs to have type \"${t.itemType}\"`)}async function D(t,r){if(!r.basemap?.baseLayers.length)throw new e(`${t.name}:save`,\"Map does not have a valid basemap with a base layer.\");let a=null;if(await o((()=>{const e=R(r.initialViewProperties,r.basemap);return a=e.spatialReference,!e.updating})),!s(a,r.initialViewProperties.spatialReference))throw new e(`${t.name}:save`,\"The spatial reference of the basemap is not compatible with the one from the map.\",{expected:r.initialViewProperties.spatialReference,actual:a})}function E(e,t){let o=f.from(t);return o.id&&(o=o.clone(),o.id=null),o.type||(o.type=e.itemType),o.portal||(o.portal=u.getDefault()),W(o),M(e,o),o}function V(e){const t=[];return e.basemap&&t.push(e.basemap.load()),e.ground&&t.push(e.ground.load()),Promise.allSettled(t).then((()=>{}))}async function x(e,t){t.extent=await ce(e.portalItem,e.initialViewProperties.viewpoint.targetGeometry),await Z(e,t)}const G=w.JSAPI,L=\"CollectorDisabled\",k=\"Collector\",$=\"Data Editing\",B=\"OfflineDisabled\",N=\"Offline\",K=\"Workforce Project\",F=\"Workforce Worker\",H=\"Workforce Dispatcher\",J=\"Offline Map Areas\",q=\"FieldMapsDisabled\",z=w.DEVELOPER_BASEMAP,Q=\"UtilityNetwork\",X=\"IPS\";async function Y(e,t){y(t,L),y(t,q),y(t,w.METADATA),y(t,B),y(t,J),y(t,H),y(t,K),y(t,F),await x(e,t)}async function Z(e,t){h(t,G),await ee(e),ae(e,t),ie(e,t),ne(e,t),se(e,t),le(e,t),pe(e,t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter(((e,t,o)=>o.indexOf(e)===t)))}function ee(e){const t=te(e).map((e=>e.load())).toArray();return Promise.allSettled(t).then((()=>{}))}function te(e){return e.allLayers.concat(e.allTables)}function oe(e){return te(e).some((e=>e.loaded&&c(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled&&(\"subtype-group\"!==e.type||e.sublayers.some((e=>e.editingEnabled)))))}function re(e){return te(e).filter((e=>\"group\"!==e.type)).every((t=>t.loaded&&fe(e,t)))}function ae(e,t){g(t,L)||g(t,K)||g(t,F)||g(t,H)||!oe(e)?y(t,k):h(t,k)}function ie(e,t){oe(e)?h(t,$):y(t,$)}function ne(e,t){!g(t,B)&&re(e)?h(t,N):y(t,N)}function se(e,t){j(e.basemap)?h(t,z):y(t,z)}function le(e,t){e.utilityNetworks?.length?h(t,Q):y(t,Q)}function pe(e,t){e.ipsInfo?h(t,X):y(t,X)}async function ce(e,t){const o=t.clone().normalize();let r;if(o.length>1)for(const a of o)r?a.width>r.width&&(r=a):r=a;else r=o[0];return me(e,r)}async function me(e,t){const o=t.spatialReference;if(o.isWGS84)return t.clone();if(o.isWebMercator)return l(t);const{getGeometryServiceURL:r}=await import(\"../../portal/support/geometryServiceUtils.js\"),a=await r(e),i=new b({geometries:[t],outSpatialReference:n.WGS84});return(await _(a,i))[0]}function ue(e){return m(e)||\"map-notes\"===e.type||\"route\"===e.type}function fe(e,t){return c(t)&&t.capabilities.operations.supportsSync||ue(t)&&!t.portalItem||(\"tile\"===t.type||\"vector-tile\"===t.type)&&(t.capabilities.operations.supportsExportTiles||de(t)||v(t))&&t.spatialReference.equals(e.initialViewProperties.spatialReference)}function de(e){return\"tile\"===e.type&&(p(e.url)&&A.some((t=>e.url?.toLowerCase().includes(\"/\"+t+\"/\"))))}async function we(e,t,o,r,a){await o.update({data:r}),_e(e,t,o,r,a)}async function ye(t,o,r,a,i,n){const s=o.portalItem,l={item:s,authenticated:!(!s?.id||!s.portal.user)},p=r.portal;await p.signIn();const{copyAllowed:c,itemReloaded:m}=await he(l,p);if(l.authenticated||=m,!c)throw new e(`${t.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const u=await ge(r,l,a,n);return o.portalItem=r,_e(t,o,r,a,i),u}async function he(e,t){const{item:o,authenticated:r}=e;return o?.id&&o.typeKeywords?.includes(\"useOnly\")?o.portal.portalHostname!==t.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(r||await o.reload(),{copyAllowed:\"admin\"===o.itemControl||\"update\"===o.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}}async function ge(e,t,o,a){const i=e.portal,{item:n}=t,{folder:s,copyAllResources:l}=a;let p=!1;if(l&&n?.id&&r(n.portal.url,i.url)&&parseInt(n.portal.currentVersion,10)>=2023){const{total:e}=await n.fetchResources();p=!!e}if(p){const t=await n.copy({copyResources:\"all\",folder:s});e.id=t.id,e.portal=t.portal;const r=e.toJSON();await e.load(),e.read(r),await e.update({data:o})}else await(i.user?.addItem({item:e,folder:s,data:o}));return p}function _e(e,o,r,n,s){t.prototype.read.call(o,{version:n.version,authoringApp:n.authoringApp,authoringAppVersion:n.authoringAppVersion},{origin:e.origin,ignoreDefaults:!0,url:r.itemUrl?a(r.itemUrl):void 0}),i(s),o.resourceInfo=n}export{O as createJSON,U as save,T as saveAs};\n"],"names":["i","writtenProperties","forEach","_ref","target","propName","t","newOrigin","e","r","originOf","updateOrigin","async","o","arguments","length","undefined","s","load","itemUrl","start","a","num","n","sortOrder","c","sortField","l","query","token","apiKey","signal","u","portal","request","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","Map","content","compress","access","p","hasPath","path","has","set","prefix","files","get","push","fileName","userItemUrl","values","slice","FormData","append","method","body","portalItem","deleteAll","lastIndexOf","type","blob","Blob","jsonString","url","responseType","data","m","h","update","Set","paths","toKeep","delete","f","w","toUpdate","finish","add","toAdd","addOrUpdateResources","d","errors","removeResource","allLayers","beforeSave","Promise","allSettled","messages","filter","_ref2","name","message","details","blockedRelativeUrls","concat","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","_ref3","includes","errorName","A","toLowerCase","U","W","M","C","updatingFromView","V","I","D","json","jsonContext","O","S","x","_e","we","all","updateItemThumbnail","P","resourceReferences","write","pendingOperations","T","from","id","clone","itemType","getDefault","E","y","L","q","METADATA","B","J","H","K","F","Y","getThumbnailState","item","authenticated","user","signIn","copyAllowed","itemReloaded","typeKeywords","portalHostname","reload","itemControl","he","folder","copyAllResources","parseInt","currentVersion","fetchResources","copy","copyResources","toJSON","read","addItem","ge","ye","restoreThumbnailFromState","basemap","baseLayers","R","initialViewProperties","spatialReference","updating","expected","actual","ground","then","extent","normalize","width","isWGS84","isWebMercator","getGeometryServiceURL","b","geometries","outSpatialReference","WGS84","_","me","ce","viewpoint","targetGeometry","G","te","toArray","ee","g","oe","k","ae","$","ie","every","loaded","capabilities","operations","supportsSync","ue","supportsExportTiles","some","de","v","equals","fe","re","N","ne","j","z","se","utilityNetworks","Q","le","ipsInfo","X","pe","indexOf","Z","JSAPI","DEVELOPER_BASEMAP","allTables","supportsEditing","editingEnabled","sublayers","prototype","call","version","authoringApp","authoringAppVersion","origin","ignoreDefaults","resourceInfo"],"sourceRoot":""}