{"version":3,"file":"static/js/6526.4581d5a3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/projection/localRotationUtils.js","../node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js","../node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js","../node_modules/@arcgis/core/views/3d/support/mathUtils.js","../node_modules/@arcgis/core/geometry/support/plane.js","../node_modules/@arcgis/core/geometry/support/vector.js","../node_modules/@arcgis/core/core/VectorStack.js","../node_modules/@arcgis/core/geometry/support/vectorStacks.js","../node_modules/@arcgis/core/rest/support/meshFeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{transpose as t}from\"../../core/libs/gl-matrix-2/math/mat4.js\";function n(t,n,o){const r=Math.sin(t),a=Math.cos(t),i=Math.sin(n),s=Math.cos(n),c=o;return c[0]=-r,c[4]=-i*a,c[8]=s*a,c[12]=0,c[1]=a,c[5]=-i*r,c[9]=s*r,c[13]=0,c[2]=0,c[6]=s,c[10]=i,c[14]=0,c[3]=0,c[7]=0,c[11]=0,c[15]=1,c}function o(o,r,a){return n(o,r,a),t(a,a),a}export{n as computeENUToSphericalPCPFLocalRotation,o as computeSphericalPCPFToENULocalRotation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{deg2rad as r}from\"../../core/mathUtils.js\";import{fromTranslation as t,identity as o}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{computeENUToSphericalPCPFLocalRotation as l,computeSphericalPCPFToENULocalRotation as n}from\"./localRotationUtils.js\";import{classifySpatialReference as s,sourceClassificationCache as E,destClassificationCache as e,ProjectionID as m,projectionTable as C}from\"./projectors.js\";import{equals as f}from\"../support/spatialReferenceUtils.js\";function u(r,i,u,_){if(null==r||null==_)return!1;const p=s(r,E),a=s(_,e);if(p===a&&!c(a)&&(p!==m.UNKNOWN||f(r,_)))return t(u,i),!0;if(c(a)){const r=C[p][m.LON_LAT],t=C[m.LON_LAT][a];return null!=r&&null!=t&&(r(i,0,L,0),t(L,0,R,0),l(A*L[0],A*L[1],u),u[12]=R[0],u[13]=R[1],u[14]=R[2],!0)}if(!(a!==m.WEB_MERCATOR&&a!==m.PLATE_CARREE&&a!==m.WGS84&&a!==m.CGCS2000||p!==m.WGS84&&p!==m.SPHERICAL_ECEF&&p!==m.WEB_MERCATOR&&p!==m.CGCS2000)){const r=C[p][m.LON_LAT],t=C[m.LON_LAT][a];return null!=r&&null!=t&&(r(i,0,L,0),t(L,0,R,0),p===m.SPHERICAL_ECEF?n(A*L[0],A*L[1],u):o(u),u[12]=R[0],u[13]=R[1],u[14]=R[2],!0)}return!1}function c(r){return r===m.SPHERICAL_ECEF||r===m.SPHERICAL_MARS_PCPF||r===m.SPHERICAL_MOON_PCPF}const A=r(1),L=i(),R=i();export{u as computeTranslationToOriginAndRotation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{SphericalECEFSpatialReferenceLike as e,SphericalPCPFMarsLike as t,SphericalPCPFMoonLike as s,WGS84ECEFSpatialReferenceLike as n}from\"./ellipsoidUtils.js\";import o from\"./SpatialReference.js\";import{isWKIDFromMars as i,isWKIDFromMoon as r}from\"./support/spatialReferenceUtils.js\";const p=new o(e),l=new o(t),f=new o(s),w=new o(n);function a(e){const t=c.get(e);if(t)return t;let s=p;if(e)if(e===l)s=l;else if(e===f)s=f;else{const t=e.wkid,n=e.latestWkid;if(null!=t||null!=n)i(t)||i(n)?s=l:(r(t)||r(n))&&(s=f);else{const t=e.wkt2??e.wkt;if(t){const e=t.toUpperCase();e===k?s=l:e===m&&(s=f)}}}return c.set(e,s),s}const c=new Map,k=l.wkt.toUpperCase(),m=f.wkt.toUpperCase();export{p as SphericalECEFSpatialReference,l as SphericalPCPFMars,f as SphericalPCPFMoon,w as WGS84ECEFSpatialReference,a as getSphericalPCPF};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{acosClamped as t}from\"../../../core/mathUtils.js\";import{s as n,m as s,n as o,b as r,l as a,j as c,g as i,o as u,f}from\"../../../chunks/vec32.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";function e(t,n){return t>n?Math.cos(n):Math.cos(t)}function M(t,n,s){return 2*Math.atan(s*Math.tan(.5*t)/n)}function l(t,n,s){return 2*Math.atan(n*Math.tan(.5*t)/s)}function m(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],o=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,s,o))}function g(t,s){const o=Math.sqrt(s[0]*s[0]+s[4]*s[4]+s[8]*s[8]),r=Math.sqrt(s[1]*s[1]+s[5]*s[5]+s[9]*s[9]),a=Math.sqrt(s[2]*s[2]+s[6]*s[6]+s[10]*s[10]);return n(t,o,r,a),t}function b(t,r,a){a=a||t;const c=s(t,r);n(a,t[0]-c*r[0],t[1]-c*r[1],t[2]-c*r[2]),o(a,a)}function j(t,s,a){Math.abs(t[0])>Math.abs(t[1])?n(s,0,1,0):n(s,1,0,0),r(a,t,s),r(s,a,t),o(a,a),o(s,s)}function p(t,n,s,o,r,a){const c=t+(n-t)*r;return c+(s+(o-s)*r-c)*a}function q(t,n,o,r=h()){const f=a(t),e=a(n),M=s(t,n)/(f*e);if(M<.9999999999999999){const s=Math.acos(M),a=((1-o)*f+o*e)/Math.sin(s),u=a/f*Math.sin((1-o)*s),h=a/e*Math.sin(o*s);return c(A,t,u),c(B,n,h),i(r,A,B)}return u(r,t,n,o)}function x(t,n,r,e=h(),M=h()){const l=a(t),m=a(n),g=s(t,n)/(l*m);if(g<.9999999999999999){const s=Math.acos(g),o=Math.sin(s),a=Math.sin(r*s),u=Math.sin((1-r)*s),f=(1-r)*l+r*m;{const s=f/o,r=s/m*a;c(A,t,s/l*u),c(B,n,r),i(e,A,B)}{const h=1/l*(-Math.cos((1-r)*s)*s*f+u*(-l+m));c(A,t,h);const e=1/m*(Math.cos(r*s)*s*f+a*(-l+m));c(B,n,e),i(M,A,B),c(M,M,1/o)}return M}return u(e,t,n,r),f(M,n,t),o(M,M),M}function v(n,a,c){n=o(A,n),a=o(B,a);const i=t(s(n,a));if(c){const t=r(z,n,a);if(s(t,c)<0)return-i}return i}function k(t){const n=t.length;return s=>{if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let o=1;for(;s>t[o][0];)o++;const r=t[o-1][0],a=t[o][0],c=(a-s)/(a-r);return c*t[o-1][1]+(1-c)*t[o][1]}}function U(t,n,a,c){f(w,n,t),f(y,a,t),r(c,w,y),o(c,c),c[3]=-s(t,c)}function d(t,s){if(n(s,0,0,0),t.length>0){for(let n=0;n<t.length;++n)i(s,s,t[n]);c(s,s,1/t.length)}}const w=h(),y=h(),z=h(),A=h(),B=h();export{v as angle,p as bilerp,e as cosCapped,M as fovx2fovy,l as fovy2fovx,b as makeOrthonormal,k as makePiecewiseLinearFunction,m as maxScale,d as midpoint3d,U as planeFromPoints,g as scaleFromMatrix,q as slerp,x as slerpTangent,j as tangentFrame};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{c as n,e as r,f as o,n as c,m as e,s as u,b as i,j as s,g as f}from\"../../chunks/vec32.js\";import{create as a}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{a as I,e as N}from\"../../chunks/vec42.js\";import{projectPointSignedLength as M}from\"./vector.js\";import{sv4d as m,sv3d as g}from\"./vectorStacks.js\";import{tangentFrame as h}from\"../../views/3d/support/mathUtils.js\";function E(t=Y){return[t[0],t[1],t[2],t[3]]}const l=I,p=N;function v(t=Y[0],n=Y[1],r=Y[2],o=Y[3]){return T(t,n,r,o,m.get())}function A(t,n){return T(n[0],n[1],n[2],n[3],t)}function F(t){return t}function T(t,n,r,o,c=E()){return c[0]=t,c[1]=n,c[2]=r,c[3]=o,c}function _(t,r,o){return n(o,t),o[3]=r,o}function j(t,n,r){const o=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],c=Math.abs(o-1)>1e-5&&o>1e-12?1/Math.sqrt(o):1;return r[0]=n[0]*c,r[1]=n[1]*c,r[2]=n[2]*c,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function b(t,n,r,o=E()){const c=r[0]-n[0],e=r[1]-n[1],u=r[2]-n[2],i=t[0]-n[0],s=t[1]-n[1],f=t[2]-n[2],a=e*f-u*s,I=u*i-c*f,N=c*s-e*i,M=a*a+I*I+N*N,m=Math.abs(M-1)>1e-5&&M>1e-12?1/Math.sqrt(M):1;return o[0]=a*m,o[1]=I*m,o[2]=N*m,o[3]=-(o[0]*t[0]+o[1]*t[1]+o[2]*t[2]),o}function X(t,n,u,i=0,s=Math.floor(u*(1/3)),f=Math.floor(u*(2/3))){if(u<3)return!1;n(C,i);let a=s,I=!1;for(;a<u-1&&!I;)n(L,a),a++,I=!r(C,L);if(!I)return!1;for(a=Math.max(a,f),I=!1;a<u&&!I;)n(P,a),a++,o(k,C,L),c(k,k),o(x,L,P),c(x,x),I=!r(C,P)&&!r(L,P)&&Math.abs(e(k,x))<y;return I?(b(C,L,P,t),!0):(0!==i||1!==s||2!==f)&&X(t,n,u,0,1,2)}function d(t,n,r=!0){const o=n.length/3;return X(t,((t,r)=>u(t,n[3*r+0],n[3*r+1],n[3*r+2])),r?o-1:o)}const y=.99619469809,C=a(),L=a(),P=a(),k=a(),x=a();function O(t,n,r){return n!==t&&A(t,n),t[3]=-e(F(t),r),t}function q(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n}function U(t,n,r,o){return i(P,n,t),j(r,P,o)}function w(t,n,r,c){return W(t,n,o(g.get(),r,n),$,c)}function S(t,n,r){return null!=n&&W(t,n.origin,n.direction,tt,r)}function z(t,n,r){return W(t,n.origin,n.vector,Z.NONE,r)}function B(t,n,r){return W(t,n.origin,n.vector,Z.CLAMP,r)}function D(t,n){return V(t,n)>=0}function G(t,n){const r=e(F(t),n.ray.direction),o=-V(t,n.ray.origin);if(o<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return o>0;if((o<0||r<0)&&!(o<0&&r<0))return!0;const c=o/r;return r>0?c<n.c1&&(n.c1=c):c>n.c0&&(n.c0=c),n.c0<=n.c1}function H(t,n){const r=e(F(t),n.ray.direction),o=-V(t,n.ray.origin);if(r>-1e-6&&r<1e-6)return o>0;const c=o/r;return r>0?c<n.c1&&(n.c1=c):c>n.c0&&(n.c0=c),n.c0<=n.c1}function J(t,n,r){const c=s(g.get(),F(t),-t[3]),e=Q(t,o(g.get(),n,c),g.get());return f(r,e,c),r}function K(t,n,r,c){const e=F(t),i=g.get(),s=g.get();h(e,i,s);const f=o(g.get(),r,n),a=M(i,f),I=M(s,f),N=M(e,f);return u(c,a,I,N)}function Q(t,n,r){const c=s(g.get(),F(t),e(F(t),n));return o(r,n,c),r}function R(t,n){return Math.abs(V(t,n))}function V(t,n){return e(F(t),n)+t[3]}function W(n,r,o,c,u){const i=e(F(n),o);if(0===i)return!1;let a=-(e(F(n),r)+n[3])/i;return c&Z.CLAMP&&(a=t(a,0,1)),!(!(c&Z.INFINITE_MIN)&&a<0||!(c&Z.INFINITE_MAX)&&a>1)&&(f(u,r,s(u,o,a)),!0)}const Y=[0,0,1,0];var Z;!function(t){t[t.NONE=0]=\"NONE\",t[t.CLAMP=1]=\"CLAMP\",t[t.INFINITE_MIN=4]=\"INFINITE_MIN\",t[t.INFINITE_MAX=8]=\"INFINITE_MAX\"}(Z||(Z={}));const $=Z.INFINITE_MIN|Z.INFINITE_MAX,tt=Z.INFINITE_MAX;export{G as clip,H as clipInfinite,A as copy,E as create,R as distance,p as equals,l as exactEquals,d as fromArray,X as fromManyPoints,_ as fromNormalAndOffset,b as fromPoints,j as fromPositionAndNormal,T as fromValues,U as fromVectorsAndPoint,F as getNormal,w as intersectLine,z as intersectLineSegment,B as intersectLineSegmentClamp,S as intersectRay,D as isPointInside,q as negate,J as projectPoint,K as projectPointLocal,Q as projectVector,O as setOffsetFromPoint,V as signedDistance,Y as up,v as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{acosClamped as t}from\"../../core/mathUtils.js\";import{m as r,j as n,l as o,n as s,b as c}from\"../../chunks/vec32.js\";import{create as i}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";function e(t,o,s){const c=r(t,o)/r(t,t);return n(s,t,c)}function a(t,n){return r(t,n)/o(t)}function f(n,s){const c=r(n,s)/(o(n)*o(s));return-t(c)}function m(n,o,i){s(u,n),s(j,o);const e=r(u,j),a=t(e),f=c(u,u,j);return r(f,i)<0?2*Math.PI-a:a}const u=i(),j=i();export{f as angle,m as angleAroundAxis,e as projectPoint,a as projectPointSignedLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"./has.js\";import{nextTick as t}from\"./nextTick.js\";import{create as e}from\"./libs/gl-matrix-2/factories/mat3f64.js\";import{create as r}from\"./libs/gl-matrix-2/factories/mat4f64.js\";import{create as s}from\"./libs/gl-matrix-2/factories/quatf64.js\";import{create as i}from\"./libs/gl-matrix-2/factories/vec2f64.js\";import{create as a}from\"./libs/gl-matrix-2/factories/vec3f64.js\";import{create as c}from\"./libs/gl-matrix-2/factories/vec4f64.js\";class m{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&t((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new m(i)}static createVec3f64(){return new m(a)}static createVec4f64(){return new m(c)}static createMat3f64(){return new m(e)}static createMat4f64(){return new m(r)}static createQuatf64(){return new m(s)}get test(){}}export{m as VectorStack};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{VectorStack as e}from\"../../core/VectorStack.js\";const t=e.createVec2f64(),c=e.createVec3f64(),r=e.createVec4f64(),a=e.createMat3f64(),f=e.createMat4f64(),o=e.createQuatf64();export{a as sm3d,f as sm4d,o as sq4d,t as sv2d,c as sv3d,r as sv4d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../core/MapUtils.js\";import o from\"../../geometry/Extent.js\";import n from\"../../geometry/Mesh.js\";import s from\"../../geometry/Point.js\";import a from\"../../geometry/SpatialReference.js\";import i from\"../../geometry/support/MeshTransform.js\";import{ServiceAssetPart as u,ServiceAsset as f}from\"../../geometry/support/meshUtils/External.js\";import{getFormatIdMimeType as c}from\"../../layers/support/infoFor3D.js\";import l from\"./FeatureSet.js\";const m=()=>t.getLogger(\"esri.rest.support.meshFeatureSet\");function p(t,r,o){const n=o.features;o.features=[],delete o.geometryType;const s=l.fromJSON(o);if(s.geometryType=\"mesh\",!o.assetMaps)return s;const i=d(r,o.assetMaps),u=t.sourceSpatialReference??a.WGS84,f=o.globalIdFieldName,{outFields:c}=t,m=null!=c&&c.length>0?g(c.includes(\"*\")?null:new Set(c)):()=>({});for(const a of n){const t=y(a,f,u,r,i);s.features.push(new e({geometry:t,attributes:m(a)}))}return s}function g(e){return({attributes:t})=>{if(!t)return{};if(!e)return t;for(const r in t)e.has(r)||delete t[r];return t}}function y(e,t,r,s,a){const i=e.attributes[t],u=a.get(i);if(null==u||!e.geometry)return null;const f=E(e,r,s),c=o.fromJSON(e.geometry);c.spatialReference=r;const l=h(e.attributes,s),m=r.isGeographic?\"local\":\"georeferenced\",p=D(u);return p?n.createWithExternalSource(f,p,{extent:c,transform:l,vertexSpace:m}):n.createIncomplete(f,{extent:c,transform:l,vertexSpace:m})}function E({attributes:e},t,{transformFieldRoles:r}){const o=e[r.originX],n=e[r.originY],a=e[r.originZ];return new s({x:o,y:n,z:a,spatialReference:t})}function h(e,{transformFieldRoles:t}){return new i({translation:[e[t.translationX],-e[t.translationZ],e[t.translationY]],rotationAxis:[e[t.rotationX],-e[t.rotationZ],e[t.rotationY]],rotationAngle:e[t.rotationDeg],scale:[e[t.scaleX],e[t.scaleZ],e[t.scaleY]]})}var S;function d(e,t){const o=new Map;for(const n of t){const t=n.parentGlobalId;if(null==t)continue;const s=n.assetName,a=n.assetType,i=n.assetHash,u=n.assetURL,f=n.conversionStatus,l=n.seqNo,p=c(a,e.supportedFormats);if(!p){m().error(\"mesh-feature-set:unknown-format\",`Service returned an asset of type ${a}, but it does not list it as a supported type`);continue}const g=r(o,t,(()=>({files:new Map})));r(g.files,s,(()=>({name:s,type:a,mimeType:p,status:M(f),parts:[]}))).parts[l]={hash:i,url:u}}return o}function D(e){const t=Array.from(e.files.values()),r=new Array;for(const o of t){if(o.status!==S.COMPLETED)return null;const e=new Array;for(const t of o.parts){if(!t)return null;e.push(new u(t.url,t.hash))}r.push(new f(o.name,o.mimeType,e))}return r}function M(e){switch(e){case\"COMPLETED\":case\"SUBMITTED\":return S.COMPLETED;case\"INPROGRESS\":return S.PENDING;default:return S.FAILED}}!function(e){e[e.FAILED=0]=\"FAILED\",e[e.PENDING=1]=\"PENDING\",e[e.COMPLETED=2]=\"COMPLETED\"}(S||(S={}));export{d as assetMapFromAssetMapsJSON,y as extractMesh,p as meshFeatureSetFromJSON};\n"],"names":["n","t","o","r","Math","sin","a","cos","i","s","c","u","_","p","E","e","m","UNKNOWN","f","C","LON_LAT","L","R","l","A","WEB_MERCATOR","PLATE_CARREE","WGS84","CGCS2000","SPHERICAL_ECEF","SPHERICAL_MARS_PCPF","SPHERICAL_MOON_PCPF","w","get","wkid","latestWkid","wkt2","wkt","toUpperCase","k","set","Map","h","arguments","length","undefined","Y","F","X","floor","I","max","P","x","abs","y","N","M","sqrt","b","Z","NONE","CLAMP","INFINITE_MIN","INFINITE_MAX","constructor","this","_create","_items","Array","_itemsPtr","_reset","push","createVec2f64","createVec3f64","createVec4f64","createMat3f64","createMat4f64","createQuatf64","test","getLogger","features","geometryType","fromJSON","assetMaps","d","sourceSpatialReference","globalIdFieldName","outFields","_ref","attributes","has","g","includes","Set","geometry","_ref2","_ref3","transformFieldRoles","originX","originY","originZ","z","spatialReference","_ref4","translation","translationX","translationZ","translationY","rotationAxis","rotationX","rotationZ","rotationY","rotationAngle","rotationDeg","scale","scaleX","scaleZ","scaleY","isGeographic","from","files","values","status","S","COMPLETED","parts","url","hash","name","mimeType","D","createWithExternalSource","extent","transform","vertexSpace","createIncomplete","parentGlobalId","assetName","assetType","assetHash","assetURL","conversionStatus","seqNo","supportedFormats","error","type","PENDING","FAILED"],"sourceRoot":""}