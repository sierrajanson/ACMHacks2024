"use strict";(self.webpackChunkbox=self.webpackChunkbox||[]).push([[707],{45136:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>f,c:()=>i,d:()=>r,e:()=>l,f:()=>s,n:()=>u,s:()=>c,t:()=>a});n(81806),n(76460);function r(e,t,n){o(e.typedBuffer,t.typedBuffer,n,e.typedBufferStride,t.typedBufferStride)}function o(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(e.length/r!==Math.ceil(t.length/o))return e;const i=e.length/r,a=n[0],s=n[1],c=n[2],f=n[4],l=n[5],u=n[6],d=n[8],h=n[9],y=n[10],p=n[12],m=n[13],g=n[14];let b=0,M=0;for(let w=0;w<i;w++){const n=t[b],i=t[b+1],w=t[b+2];e[M]=a*n+f*i+d*w+p,e[M+1]=s*n+l*i+h*w+m,e[M+2]=c*n+u*i+y*w+g,b+=o,M+=r}return e}function i(e,t,n){a(e.typedBuffer,t.typedBuffer,n,e.typedBufferStride,t.typedBufferStride)}function a(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;if(e.length/r!==Math.ceil(t.length/o))return;const i=e.length/r,a=n[0],s=n[1],c=n[2],f=n[3],l=n[4],u=n[5],d=n[6],h=n[7],y=n[8];let p=0,m=0;for(let g=0;g<i;g++){const n=t[p],i=t[p+1],g=t[p+2];e[m]=a*n+f*i+d*g,e[m+1]=s*n+l*i+h*g,e[m+2]=c*n+u*i+y*g,p+=o,m+=r}}function s(e,t,n){c(e.typedBuffer,t.typedBuffer,n,e.typedBufferStride,t.typedBufferStride)}function c(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;const i=Math.min(e.length/r,t.length/o);let a=0,s=0;for(let c=0;c<i;c++)e[s]=n*t[a],e[s+1]=n*t[a+1],e[s+2]=n*t[a+2],a+=o,s+=r;return e}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;const i=e.length/r;if(i!==Math.ceil(t.length/o))return e;let a=0,s=0;for(let c=0;c<i;c++)e[s]=t[a]+n[0],e[s+1]=t[a+1]+n[1],e[s+2]=t[a+2]+n[2],a+=o,s+=r;return e}function l(e,t){u(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;const o=Math.min(e.length/n,t.length/r);let i=0,a=0;for(let s=0;s<o;s++){const o=t[i],s=t[i+1],c=t[i+2],f=o*o+s*s+c*c;if(f>0){const t=1/Math.sqrt(f);e[a]=t*o,e[a+1]=t*s,e[a+2]=t*c}i+=r,a+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:u,normalizeView:l,scale:c,scaleView:s,shiftRight:function(e,t,n){const r=Math.min(e.count,t.count),o=e.typedBuffer,i=e.typedBufferStride,a=t.typedBuffer,s=t.typedBufferStride;let c=0,f=0;for(let l=0;l<r;l++)o[f]=a[c]>>n,o[f+1]=a[c+1]>>n,o[f+2]=a[c+2]>>n,c+=s,f+=i},transformMat3:a,transformMat3View:i,transformMat4:o,transformMat4View:r,translate:f},Symbol.toStringTag,{value:"Module"}))},44680:(e,t,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function o(e,t,n,r,o,i,a,s,c){return[e,t,n,r,o,i,a,s,c]}n.d(t,{fA:()=>o,vt:()=>r,zK:()=>i});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:r,createView:function(e,t){return new Float64Array(e,t,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},13191:(e,t,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}n.d(t,{o8:()=>o,vt:()=>r,zK:()=>i});const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,createView:function(e,t){return new Float64Array(e,t,16)},fromValues:function(e,t,n,r,o,i,a,s,c,f,l,u,d,h,y,p){return[e,t,n,r,o,i,a,s,c,f,l,u,d,h,y,p]}},Symbol.toStringTag,{value:"Module"}))},4336:(e,t,n)=>{function r(){return[0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3]]}n.d(t,{o8:()=>o,vt:()=>r,zK:()=>i});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,createView:function(e,t){return new Float64Array(e,t,4)},fromValues:function(e,t,n,r){return[e,t,n,r]}},Symbol.toStringTag,{value:"Module"}))},60008:(e,t,n)=>{n.d(t,{A6:()=>p,Xd:()=>l,Xr:()=>h,hZ:()=>g,lw:()=>u,t2:()=>O,x8:()=>f});var r=n(44680),o=n(4336),i=n(9392),a=n(53494),s=n(20664),c=n(43047);function f(e,t,n){n*=.5;const r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function l(e,t){const n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>(0,a.FD)()?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function u(e,t,n){const r=t[0],o=t[1],i=t[2],a=t[3],s=n[0],c=n[1],f=n[2],l=n[3];return e[0]=r*l+a*s+o*f-i*c,e[1]=o*l+a*c+i*s-r*f,e[2]=i*l+a*f+r*c-o*s,e[3]=a*l-r*s-o*c-i*f,e}function d(e,t,n,r){const o=t[0],i=t[1],s=t[2],c=t[3];let f,l,u,d,h,y=n[0],p=n[1],m=n[2],g=n[3];return l=o*y+i*p+s*m+c*g,l<0&&(l=-l,y=-y,p=-p,m=-m,g=-g),1-l>(0,a.FD)()?(f=Math.acos(l),u=Math.sin(f),d=Math.sin((1-r)*f)/u,h=Math.sin(r*f)/u):(d=1-r,h=r),e[0]=d*o+h*y,e[1]=d*i+h*p,e[2]=d*s+h*m,e[3]=d*c+h*g,e}function h(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function y(e,t){const n=t[0]+t[4]+t[8];let r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);const o=(n+1)%3,i=(n+2)%3;r=Math.sqrt(t[3*n+n]-t[3*o+o]-t[3*i+i]+1),e[n]=.5*r,r=.5/r,e[3]=(t[3*o+i]-t[3*i+o])*r,e[o]=(t[3*o+n]+t[3*n+o])*r,e[i]=(t[3*i+n]+t[3*n+i])*r}return e}function p(e,t,n,r){const o=.5*Math.PI/180;t*=o,n*=o,r*=o;const i=Math.sin(t),a=Math.cos(t),s=Math.sin(n),c=Math.cos(n),f=Math.sin(r),l=Math.cos(r);return e[0]=i*c*l-a*s*f,e[1]=a*s*l+i*c*f,e[2]=a*c*f-i*s*l,e[3]=a*c*l+i*s*f,e}const m=c.c,g=c.s,b=c.f,M=u,w=c.b,v=c.g,A=c.l,S=c.i,_=S,E=c.j,I=E,P=c.n,O=c.a,N=c.e;const B=(0,i.vt)(),x=(0,i.fA)(1,0,0),F=(0,i.fA)(0,1,0);const j=(0,o.vt)(),L=(0,o.vt)();const T=(0,r.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:b,calculateW:function(e,t){const n=t[0],r=t[1],o=t[2];return e[0]=n,e[1]=r,e[2]=o,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),e},conjugate:h,copy:m,dot:v,equals:N,exactEquals:O,fromEuler:p,fromMat3:y,getAxisAngle:l,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:function(e,t){const n=t[0],r=t[1],o=t[2],i=t[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-o*s,e[3]=i*s,e},len:_,length:S,lerp:A,mul:M,multiply:u,normalize:P,random:function(e){const t=a.Ov,n=t(),r=t(),o=t(),i=Math.sqrt(1-n),s=Math.sqrt(n);return e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=s*Math.sin(2*Math.PI*o),e[3]=s*Math.cos(2*Math.PI*o),e},rotateX:function(e,t,n){n*=.5;const r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*s,e[1]=o*c+i*s,e[2]=i*c-o*s,e[3]=a*c-r*s,e},rotateY:function(e,t,n){n*=.5;const r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c-i*s,e[1]=o*c+a*s,e[2]=i*c+r*s,e[3]=a*c-o*s,e},rotateZ:function(e,t,n){n*=.5;const r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*s,e[1]=o*c-r*s,e[2]=i*c+a*s,e[3]=a*c-i*s,e},rotationTo:function(e,t,n){const r=(0,s.m)(t,n);return r<-.999999?((0,s.b)(B,x,t),(0,s.H)(B)<1e-6&&(0,s.b)(B,F,t),(0,s.n)(B,B),f(e,B,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,s.b)(B,t,n),e[0]=B[0],e[1]=B[1],e[2]=B[2],e[3]=1+r,P(e,e))},scale:w,set:g,setAxes:function(e,t,n,r){const o=T;return o[0]=n[0],o[3]=n[1],o[6]=n[2],o[1]=r[0],o[4]=r[1],o[7]=r[2],o[2]=-t[0],o[5]=-t[1],o[8]=-t[2],P(e,y(e,o))},setAxisAngle:f,slerp:d,sqlerp:function(e,t,n,r,o,i){return d(j,t,o,i),d(L,n,r,i),d(e,j,L,2*i*(1-i)),e},sqrLen:I,squaredLength:E,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))},64232:(e,t,n)=>{n.d(t,{g:()=>a});var r=n(9392),o=n(26346),i=n(45308);function a(e,t,n,r){if((0,o.canProjectWithoutEngine)(e.spatialReference,n)){s[0]=e.x,s[1]=e.y;const o=e.z;return s[2]=o??r??0,(0,i.projectBuffer)(s,e.spatialReference,0,t,n,0,1)}const a=(0,o.tryProjectWithZConversion)(e,n);return!!a&&(t[0]=a?.x,t[1]=a?.y,t[2]=a?.z??r??0,!0)}const s=(0,r.vt)()},44815:(e,t,n)=>{n.d(t,{Ns:()=>c,jh:()=>o,l5:()=>a,s:()=>s,xm:()=>i});var r=n(78393);function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e<=r.y9?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function i(e){return((0,r.cy)(e)?e.length:e.byteLength/8)<=r.y9?Array.from(e):new Float64Array(e)}function a(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}function s(e,t){for(let n=0;n<t.length;++n)e[n]=t[n];return e}function c(e){return Array.isArray(e)?new Float64Array(e):e}},14894:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(35143),o=n(69098),i=n(42553),a=n(46053),s=(n(81806),n(76460),n(47249),n(6409)),c=n(85842);let f=class extends((0,o.O)(i.oY)){constructor(e){super(e),this.type="georeferenced",this.origin=null}};(0,r._)([(0,s.e)({georeferenced:"georeferenced"},{readOnly:!0})],f.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],f.prototype,"origin",void 0),f=(0,r._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],f);const l=f},5845:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(35143),o=n(69098),i=n(42553),a=n(46053),s=(n(81806),n(76460),n(47249),n(6409)),c=n(85842),f=n(9392);let l=class extends((0,o.O)(i.oY)){constructor(e){super(e),this.type="local",this.origin=(0,f.vt)()}};(0,r._)([(0,s.e)({local:"local"},{readOnly:!0})],l.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"origin",void 0),l=(0,r._)([(0,c.$)("esri.geometry.support.MeshLocalVertexSpace")],l);const u=l},8947:(e,t,n)=>{n.r(t),n.d(t,{destroyContext:()=>I,dracoDecompressPointCloudData:()=>w,filterObbsForModifications:()=>v,filterObbsForModificationsSync:()=>F,initialize:()=>T,interpretObbModificationResults:()=>x,process:()=>M,project:()=>_,setLegacySchema:()=>S,setModifications:()=>A,setModificationsSync:()=>N,test:()=>U,transformNormals:()=>E});var r,o,i=n(15941),a=n(13312),s=n(44815),c=n(14894),f=n(5845),l=n(45136);!function(e){e[e.None=0]="None",e[e.Int16=1]="Int16",e[e.Int32=2]="Int32"}(r||(r={})),function(e){e[e.Replace=0]="Replace",e[e.Outside=1]="Outside",e[e.Inside=2]="Inside",e[e.Finished=3]="Finished"}(o||(o={}));var u=n(28899);function d(e){return(0,u.s)(`esri/libs/i3s/${e}`)}let h;var y,p,m,g,b;n(55855),n(93582),n(68664);!function(e){e[e.Unmodified=0]="Unmodified",e[e.Culled=1]="Culled",e[e.NotChecked=2]="NotChecked"}(y||(y={})),function(e){e[e.Unmodified=0]="Unmodified",e[e.PotentiallyModified=1]="PotentiallyModified",e[e.Culled=2]="Culled",e[e.Unknown=3]="Unknown",e[e.NotChecked=4]="NotChecked"}(p||(p={}));!function(e){e[e.Unknown=0]="Unknown",e[e.Uncached=1]="Uncached",e[e.Cached=2]="Cached"}(m||(m={})),function(e){e[e.None=0]="None",e[e.MaxScreenThreshold=1]="MaxScreenThreshold",e[e.ScreenSpaceRelative=2]="ScreenSpaceRelative",e[e.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",e[e.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(g||(g={})),function(e){e[e.Hole=0]="Hole",e[e.Leaf=1]="Leaf"}(b||(b={}));async function M(e){O=await R();const t=[e.geometryBuffer];return{result:B(O,e,t),transferList:t}}async function w(e){O=await R();const t=[e.geometryBuffer],{geometryBuffer:n}=e,r=n.byteLength,o=O._malloc(r),i=new Uint8Array(O.HEAPU8.buffer,o,r);i.set(new Uint8Array(n));const a=O.dracoDecompressPointCloudData(o,i.byteLength);if(O._free(o),a.error.length>0)throw new Error(`i3s.wasm: ${a.error}`);const s=a.featureIds?.length>0?a.featureIds.slice():null,c=a.positions.slice();return s&&t.push(s.buffer),t.push(c.buffer),{result:{positions:c,featureIds:s},transferList:t}}async function v(e){await R(),F(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function A(e){await R(),N(e)}async function S(e){O=await R(),O.setLegacySchema(e.context,e.jsonSchema)}async function _(e){const{localMatrix:t,origin:r,positions:o,vertexSpace:i,localMode:l}=e,u=a.A.fromJSON(e.inSpatialReference),d=a.A.fromJSON(e.outSpatialReference);let h;const[{projectBuffer:y},{initializeProjection:p}]=await Promise.all([Promise.resolve().then(n.bind(n,45308)),Promise.resolve().then(n.bind(n,26346))]);await p(u,d);const m=[0,0,0];if(!y(r,u,0,m,d,0,1))throw new Error("Failed to project");if("georeferenced"===i.type&&null==i.origin){if(h=new Float64Array(o.length),!y(o,u,0,h,d,0,h.length/3))throw new Error("Failed to project")}else{const e="georeferenced"===i.type?c.A.fromJSON(i):f.A.fromJSON(i),{project:r}=await Promise.all([n.e(8105),n.e(6375)]).then(n.bind(n,26375)),a=r({positions:o,transform:t?{localMatrix:t}:void 0,vertexSpace:e,inSpatialReference:u,outSpatialReference:d,localMode:l});if(!a)throw new Error("Failed to project");h=(0,s.Ns)(a)}const g=h.length,[b,M,w]=m;for(let n=0;n<g;n+=3)h[n]-=b,h[n+1]-=M,h[n+2]-=w;return{result:{projected:h,original:o,projectedOrigin:m},transferList:[h.buffer,o.buffer]}}async function E(e){let{normalMatrix:t,normals:n}=e;const r=new Float32Array(n.length);return(0,l.t)(r,n,t),(0,i.or)(t)&&(0,l.n)(r,r),{result:{transformed:r,original:n},transferList:[r.buffer,n.buffer]}}function I(e){j(e)}let P,O;function N(e){if(!O)return;const t=e.modifications,n=O._malloc(8*t.length),r=new Float64Array(O.HEAPU8.buffer,n,t.length);for(let o=0;o<t.length;++o)r[o]=t[o];O.setModifications(e.context,n,t.length,e.isGeodetic),O._free(n)}function B(e,t,n){const{context:o,globalTrafo:i,mbs:a,obbData:s,elevationOffset:c,geometryBuffer:f,geometryDescriptor:l,indexToVertexProjector:u,vertexToRenderProjector:d}=t,h=e._malloc(f.byteLength),y=e._malloc(33*Float64Array.BYTES_PER_ELEMENT),p=new Uint8Array(e.HEAPU8.buffer,h,f.byteLength);p.set(new Uint8Array(f));const m=new Float64Array(e.HEAPU8.buffer,y,33);L(m,[NaN,NaN,NaN]);let g=m.byteOffset+3*m.BYTES_PER_ELEMENT,b=new Float64Array(m.buffer,g);L(b,i),g+=16*m.BYTES_PER_ELEMENT,b=new Float64Array(m.buffer,g),L(b,a),g+=4*m.BYTES_PER_ELEMENT,s&&(b=new Float64Array(m.buffer,g),L(b,s));const M=l,w={isDraco:!1,isLegacy:!1,color:t.layouts.some((e=>e.some((e=>"color"===e.name)))),normal:t.needNormals&&t.layouts.some((e=>e.some((e=>"normalCompressed"===e.name)))),uv0:t.layouts.some((e=>e.some((e=>"uv0"===e.name)))),uvRegion:t.layouts.some((e=>e.some((e=>"uvRegion"===e.name)))),featureIndex:M.featureIndex},v=e.process(o,!!t.obbData,h,p.byteLength,M,w,y,c,u,d,t.normalReferenceFrame);if(e._free(y),e._free(h),v.error.length>0)throw new Error(`i3s.wasm: ${v.error}`);if(v.discarded)return null;const A=v.componentOffsets.length>0?v.componentOffsets.slice():null,S=v.featureIds.length>0?v.featureIds.slice():null,_=v.anchorIds.length>0?Array.from(v.anchorIds):null,E=v.anchors.length>0?Array.from(v.anchors):null,I=v.interleavedVertedData.slice().buffer,P=v.indicesType===r.Int16?new Uint16Array(v.indices.buffer,v.indices.byteOffset,v.indices.byteLength/2).slice():new Uint32Array(v.indices.buffer,v.indices.byteOffset,v.indices.byteLength/4).slice(),O=v.positions.slice(),N=v.positionIndicesType===r.Int16?new Uint16Array(v.positionIndices.buffer,v.positionIndices.byteOffset,v.positionIndices.byteLength/2).slice():new Uint32Array(v.positionIndices.buffer,v.positionIndices.byteOffset,v.positionIndices.byteLength/4).slice(),B={layout:t.layouts[0],interleavedVertexData:I,indices:P,hasColors:v.hasColors,hasModifications:v.hasModifications,positionData:{data:O,indices:N}};return S&&n.push(S.buffer),A&&n.push(A.buffer),n.push(I),n.push(P.buffer),n.push(O.buffer),n.push(N.buffer),{componentOffsets:A,featureIds:S,anchorIds:_,anchors:E,transformedGeometry:B,obb:v.obb,globalTrafo:i}}function x(e){return 0===e?p.Unmodified:1===e?p.PotentiallyModified:2===e?p.Culled:p.Unknown}function F(e){if(!O)return;const{context:t,buffer:n}=e,r=O._malloc(n.byteLength),o=n.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(O.HEAPU8.buffer,r,o),a=new Float64Array(n);i.set(a),O.filterOBBs(t,r,o),a.set(i),O._free(r)}function j(e){O&&0===O.destroy(e)&&(O=null)}function L(e,t){for(let n=0;n<t.length;++n)e[n]=t[n]}async function T(){O||await R()}function R(){return O?Promise.resolve(O):(P||(P=(h||(h=new Promise((e=>n.e(7258).then(n.bind(n,77258)).then((e=>e.i)).then((t=>{let{default:n}=t;const r=n({locateFile:d,onRuntimeInitialized:()=>e(r)});delete r.then})))).catch((e=>{throw e}))),h).then((e=>(O=e,P=null,O)))),P)}const U={transform:(e,t)=>O&&B(O,e,t),destroy:j}}}]);
//# sourceMappingURL=707.9a998333.chunk.js.map