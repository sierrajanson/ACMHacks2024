"use strict";(self.webpackChunkbox=self.webpackChunkbox||[]).push([[6526],{90707:(t,e,r)=>{r.d(e,{l:()=>u});var n=r(15941),s=r(34761),a=r(9392);function o(t,e,r){const n=Math.sin(t),s=Math.cos(t),a=Math.sin(e),o=Math.cos(e),i=r;return i[0]=-n,i[4]=-a*s,i[8]=o*s,i[12]=0,i[1]=s,i[5]=-a*n,i[9]=o*n,i[13]=0,i[2]=0,i[6]=o,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,i}var i=r(43955),c=r(80963);function u(t,e,r,n){if(null==t||null==n)return!1;const a=(0,i.Qk)(t,i.Wv),u=(0,i.Qk)(n,i.zp);if(a===u&&!l(u)&&(a!==i.rz.UNKNOWN||(0,c.aI)(t,n)))return(0,s.kN)(r,e),!0;if(l(u)){const t=i.w5[a][i.rz.LON_LAT],n=i.w5[i.rz.LON_LAT][u];return null!=t&&null!=n&&(t(e,0,h,0),n(h,0,E,0),o(f*h[0],f*h[1],r),r[12]=E[0],r[13]=E[1],r[14]=E[2],!0)}if(!(u!==i.rz.WEB_MERCATOR&&u!==i.rz.PLATE_CARREE&&u!==i.rz.WGS84&&u!==i.rz.CGCS2000||a!==i.rz.WGS84&&a!==i.rz.SPHERICAL_ECEF&&a!==i.rz.WEB_MERCATOR&&a!==i.rz.CGCS2000)){const t=i.w5[a][i.rz.LON_LAT],n=i.w5[i.rz.LON_LAT][u];return null!=t&&null!=n&&(t(e,0,h,0),n(h,0,E,0),a===i.rz.SPHERICAL_ECEF?function(t,e,r){o(t,e,r),(0,s.mg)(r,r)}(f*h[0],f*h[1],r):(0,s.D_)(r),r[12]=E[0],r[13]=E[1],r[14]=E[2],!0)}return!1}function l(t){return t===i.rz.SPHERICAL_ECEF||t===i.rz.SPHERICAL_MARS_PCPF||t===i.rz.SPHERICAL_MOON_PCPF}const f=(0,n.kU)(1),h=(0,a.vt)(),E=(0,a.vt)()},98510:(t,e,r)=>{r.d(e,{Y0:()=>u,lO:()=>l});var n=r(34111),s=r(13312),a=r(80963);const o=new s.A(n.fv),i=new s.A(n.FY),c=new s.A(n.LJ),u=new s.A(n.Ro);function l(t){const e=f.get(t);if(e)return e;let r=o;if(t)if(t===i)r=i;else if(t===c)r=c;else{const e=t.wkid,n=t.latestWkid;if(null!=e||null!=n)(0,a.tl)(e)||(0,a.tl)(n)?r=i:((0,a.ZL)(e)||(0,a.ZL)(n))&&(r=c);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===h?r=i:t===E&&(r=c)}}}return f.set(t,r),r}const f=new Map,h=i.wkt.toUpperCase(),E=c.wkt.toUpperCase()},89802:(t,e,r)=>{r.d(e,{vt:()=>a,lU:()=>i,Qj:()=>o});r(15941);var n=r(20664),s=r(9392);r(43047),r(96190),r(75762);(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)();function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return[t[0],t[1],t[2],t[3]]}function o(t){return t}function i(t,e,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.floor(r*(1/3)),p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor(r*(2/3));if(r<3)return!1;e(u,s);let m=o,N=!1;for(;m<r-1&&!N;)e(l,m),m++,N=!(0,n.e)(u,l);if(!N)return!1;for(m=Math.max(m,p),N=!1;m<r&&!N;)e(f,m),m++,(0,n.f)(h,u,l),(0,n.n)(h,h),(0,n.f)(E,l,f),(0,n.n)(E,E),N=!(0,n.e)(u,f)&&!(0,n.e)(l,f)&&Math.abs((0,n.m)(h,E))<c;return N?(function(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a();const s=r[0]-e[0],o=r[1]-e[1],i=r[2]-e[2],c=t[0]-e[0],u=t[1]-e[1],l=t[2]-e[2],f=o*l-i*u,h=i*c-s*l,E=s*u-o*c,p=f*f+h*h+E*E,m=Math.abs(p-1)>1e-5&&p>1e-12?1/Math.sqrt(p):1;n[0]=f*m,n[1]=h*m,n[2]=E*m,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2])}(u,l,f,t),!0):(0!==s||1!==o||2!==p)&&i(t,e,r,0,1,2)}const c=.99619469809,u=(0,s.vt)(),l=(0,s.vt)(),f=(0,s.vt)(),h=(0,s.vt)(),E=(0,s.vt)();const p=[0,0,1,0];var m;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(m||(m={}));m.INFINITE_MIN,m.INFINITE_MAX,m.INFINITE_MAX},96190:(t,e,r)=>{r.d(e,{g7:()=>o});var n=r(15941),s=r(20664),a=r(9392);function o(t,e){const r=(0,s.m)(t,e)/((0,s.l)(t)*(0,s.l)(e));return-(0,n.XM)(r)}(0,a.vt)(),(0,a.vt)()},75762:(t,e,r)=>{r.d(e,{Rc:()=>h,J8:()=>E,rq:()=>f});r(81806);var n=r(77944),s=r(44680),a=r(13191),o=r(4336),i=r(72745),c=r(9392),u=r(55855);class l{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,n.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new l(i.vt)}static createVec3f64(){return new l(c.vt)}static createVec4f64(){return new l(u.vt)}static createMat3f64(){return new l(s.vt)}static createMat4f64(){return new l(a.vt)}static createQuatf64(){return new l(o.vt)}get test(){}}l.createVec2f64();const f=l.createVec3f64(),h=(l.createVec4f64(),l.createMat3f64(),l.createMat4f64()),E=l.createQuatf64()},10156:(t,e,r)=>{r.r(e),r.d(e,{assetMapFromAssetMapsJSON:()=>v,extractMesh:()=>N,meshFeatureSetFromJSON:()=>m});var n=r(39356),s=r(76460),a=r(87663),o=r(76797),i=r(22923),c=r(19247),u=r(13312),l=r(32186),f=r(57045),h=r(19463),E=r(77725);const p=()=>s.A.getLogger("esri.rest.support.meshFeatureSet");function m(t,e,r){const s=r.features;r.features=[],delete r.geometryType;const a=E.A.fromJSON(r);if(a.geometryType="mesh",!r.assetMaps)return a;const o=v(e,r.assetMaps),i=t.sourceSpatialReference??u.A.WGS84,c=r.globalIdFieldName,{outFields:l}=t,f=null!=l&&l.length>0?function(t){return e=>{let{attributes:r}=e;if(!r)return{};if(!t)return r;for(const n in r)t.has(n)||delete r[n];return r}}(l.includes("*")?null:new Set(l)):()=>({});for(const u of s){const t=N(u,c,i,e,o);a.features.push(new n.A({geometry:t,attributes:f(u)}))}return a}function N(t,e,r,n,s){const a=t.attributes[e],u=s.get(a);if(null==u||!t.geometry)return null;const h=function(t,e,r){let{attributes:n}=t,{transformFieldRoles:s}=r;const a=n[s.originX],o=n[s.originY],i=n[s.originZ];return new c.A({x:a,y:o,z:i,spatialReference:e})}(t,r,n),E=o.A.fromJSON(t.geometry);E.spatialReference=r;const p=function(t,e){let{transformFieldRoles:r}=e;return new l.A({translation:[t[r.translationX],-t[r.translationZ],t[r.translationY]],rotationAxis:[t[r.rotationX],-t[r.rotationZ],t[r.rotationY]],rotationAngle:t[r.rotationDeg],scale:[t[r.scaleX],t[r.scaleZ],t[r.scaleY]]})}(t.attributes,n),m=r.isGeographic?"local":"georeferenced",N=function(t){const e=Array.from(t.files.values()),r=new Array;for(const n of e){if(n.status!==A.COMPLETED)return null;const t=new Array;for(const e of n.parts){if(!e)return null;t.push(new f.Bq(e.url,e.hash))}r.push(new f.Qp(n.name,n.mimeType,t))}return r}(u);return N?i.A.createWithExternalSource(h,N,{extent:E,transform:p,vertexSpace:m}):i.A.createIncomplete(h,{extent:E,transform:p,vertexSpace:m})}var A;function v(t,e){const r=new Map;for(const n of e){const e=n.parentGlobalId;if(null==e)continue;const s=n.assetName,o=n.assetType,i=n.assetHash,c=n.assetURL,u=n.conversionStatus,l=n.seqNo,f=(0,h.Fm)(o,t.supportedFormats);if(!f){p().error("mesh-feature-set:unknown-format",`Service returned an asset of type ${o}, but it does not list it as a supported type`);continue}const E=(0,a.tE)(r,e,(()=>({files:new Map})));(0,a.tE)(E.files,s,(()=>({name:s,type:o,mimeType:f,status:M(u),parts:[]}))).parts[l]={hash:i,url:c}}return r}function M(t){switch(t){case"COMPLETED":case"SUBMITTED":return A.COMPLETED;case"INPROGRESS":return A.PENDING;default:return A.FAILED}}!function(t){t[t.FAILED=0]="FAILED",t[t.PENDING=1]="PENDING",t[t.COMPLETED=2]="COMPLETED"}(A||(A={}))}}]);
//# sourceMappingURL=6526.4581d5a3.chunk.js.map