{"version":3,"file":"static/js/9078.d584425a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/sources/FeatureLayerSource.js","../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{getMimeTypeFormatId as y,getFilenameFormatId as g}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as b,getEffectiveLayerCapabilities as w}from\"../support/layerUtils.js\";function F(e){return null!=e?.applyEdits}function A(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function v(e){return e.every(A)}function I(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function $(e){return e.every(I)}async function E(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await S(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function S(e,t,r,s){if(await e.load(),!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!b(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await R(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function R(e,t,r){const i=w(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(M(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=V(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>T(e,t)))}u.addFeatures.forEach((t=>U(t,e,p,c))),u.updateFeatures.forEach((t=>L(t,e,p,c))),u.deleteFeatures.forEach((t=>k(t,e,p,c))),u.addAttachments.forEach((t=>B(t,e))),u.updateAttachments.forEach((t=>B(t,e))),l&&await z(u,e);return{edits:await D(u),options:d}}function j(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function O(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function U(e,t,a,r){j(e,t,a,r),O(e,t)}function k(e,t,a,r){j(e,t,a,r)}function L(e,t,r,s){j(e,t,r,s),O(e,t);const i=w(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function B(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function D(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function G(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function V(e,t,r){const s=G(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(x),s.updateFeatures=s.updateFeatures.map(x),s.addAssetFeatures=[],s}function M(e,t,r,s,i,n){if(!e||!s&&!i)throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function x(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function z(e,t){if(null==t.infoFor3D)return;const{infoFor3D:r}=t,s=y(\"model/gltf-binary\",r.supportedFormats)??g(\"glb\",r.supportedFormats);if(!(!!s&&r.editFormats.includes(s)))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:i}=e;for(const a of e.addFeatures??[])q(a)&&i.push(a);for(const a of e.updateFeatures??[])q(a)&&i.push(a)}function q(e){return\"mesh\"===e?.geometry?.type}function W(e,t,r,s){if(!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{E as applyEdits,M as checkEditingCapabilities,$ as isFeatureIdentifierArrayWithGlobalId,v as isFeatureIdentifierArrayWithObjectId,I as isFeatureIdentifierWithGlobalId,A as isFeatureIdentifierWithObjectId,G as normalizeCollections,V as normalizeEdits,D as normalizeGeometries,x as shallowCloneFeature,W as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import e from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as o}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as s,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projection.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(t,e,r){const{geometry:o}=e,i={...e.attributes};if(null!=r&&\"mesh\"===o?.type){const{transformFieldRoles:e}=r,{origin:c,spatialReference:p,vertexSpace:m}=o,f=o.transform??new u,g=\"local\"===m.type,b=t.spatialReference,y=b.isGeographic,R=d(b,p),h=s(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[e.originX]=I.x,i[e.originY]=I.y,i[e.originZ]=I.z??0,null!=f){const{translation:t,scale:r,rotation:o}=f,s=g?1:a(p)/a(b);i[e.translationX]=t[0]*s,i[e.translationY]=t[2]*s,i[e.translationZ]=-t[1]*s,i[e.scaleX]=r[0],i[e.scaleY]=r[2],i[e.scaleZ]=r[1],i[e.rotationX]=o[0],i[e.rotationY]=o[2],i[e.rotationZ]=-o[1],i[e.rotationDeg]=o[3]}return{attributes:i}}return null==o?{attributes:i}:\"mesh\"===o.type||\"extent\"===o.type?null:{geometry:o.toJSON(),attributes:i}}async function f(t,e){const r=await Promise.all((e.addAttachments??[]).map((e=>g(t,e)))),a=await Promise.all((e.updateAttachments??[]).map((e=>g(t,e)))),o=e.deleteAttachments??[];return r.length||a.length||o.length?{adds:r,updates:a,deletes:[...o]}:null}async function g(t,e){const{feature:r,attachment:a}=e,{globalId:s,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:s};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[t.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const t=await o(i);t&&(d.contentType=t.mediaType,d.data=t.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(t,e,r){if(!e||0===e.length)return[];if(r&&c(e))return e.map((t=>t.globalId));if(p(e))return e.map((t=>t.objectId));const a=r?t.globalIdField:t.objectIdField;return a?e.map((t=>t.getAttribute(a))):[]}function y(t){const e=t?.assetMaps;if(e){for(const t of e.addResults)t.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`);for(const t of e.updateResults)t.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`)}const a=t?.attachments,o={addFeatureResults:t?.addResults?.map(R)??[],updateFeatureResults:t?.updateResults?.map(R)??[],deleteFeatureResults:t?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return t?.editMoment&&(o.editMoment=t.editMoment),o}function R(t){const r=!0===t.success?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new e(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(e,r){return new t({attributes:e.attributes,geometry:i({...e.geometry,spatialReference:r})})}function I(t,e){return{adds:t?.adds?.map((t=>h(t,e)))||[],updates:t?.updates?.map((t=>({original:h(t[0],e),current:h(t[1],e)})))||[],deletes:t?.deletes?.map((t=>h(t,e)))||[],spatialReference:e}}function j(t){const e=t.details.raw,r=+e.code,a=+e.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../config.js\";import\"../../../geometry.js\";import r from\"../../../request.js\";import s from\"../../../TimeExtent.js\";import{isSome as a,remove as i}from\"../../../core/arrayUtils.js\";import n from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{JSONMap as o}from\"../../../core/jsonMap.js\";import u from\"../../../core/Loadable.js\";import l from\"../../../core/Logger.js\";import{setDeepValue as c}from\"../../../core/object.js\";import{debounce as d,after as p,throwIfAbortError as h}from\"../../../core/promiseUtils.js\";import{watch as y}from\"../../../core/reactiveUtils.js\";import{join as m}from\"../../../core/urlUtils.js\";import{generateBracedUUID as f}from\"../../../core/uuid.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as w}from\"../../../core/accessorSupport/decorators/subclass.js\";import S from\"../../../geometry/Extent.js\";import q from\"../../../geometry/support/MeshGeoreferencedVertexSpace.js\";import{isRelativeVertexSpace as E}from\"../../../geometry/support/meshVertexSpaceUtils.js\";import{isOriginalExternal as O}from\"../../../geometry/support/meshUtils/External.js\";import{createFeatureEditResult as _,getFeatureJSON as b,getFeatureIds as R,getAttachmentEditsJSON as A,isProtectedOrPrivateVersionError as F,unpackEditResultData as I,createEditedFeatures as x}from\"../applyEditsUtils.js\";import{createDrawingInfo as j}from\"./support/clientSideDefaults.js\";import v from\"./support/QueryTask.js\";import{isHostedAgolService as T}from\"../../support/arcgisLayerUrl.js\";import{ensureLayerCredential as M}from\"../../support/featureLayerUtils.js\";import{getAssetMapTable as N}from\"../../support/infoFor3D.js\";import{executeQueryJSON as U}from\"../../../rest/query/executeQueryJSON.js\";import{unapplyEditsZUnitScaling as J}from\"../../../rest/query/operations/editsZScale.js\";import D from\"../../../rest/support/Query.js\";import{isSafeToEditVersion as k,isVersionInEditSession as C,isHistoricVersion as L,currentSessionId as Q}from\"../../../versionManagement/support/versionManagementUtils.js\";import P from\"../../../geometry/SpatialReference.js\";const V=new o({originalAndCurrentFeatures:\"original-and-current-features\",none:\"none\"}),$=new o({Started:\"published\",Publishing:\"publishing\",Stopped:\"unavailable\"});let G=class extends u{constructor(e){super(e),this.type=\"feature-layer\",this.supportedSourceTypes=new Set([\"Feature Layer\",\"Oriented Imagery Layer\",\"Table\",\"Catalog Layer\"]),this.refresh=d((async()=>{await this.load();const e=this.sourceJSON.editingInfo?.lastEditDate;if(null==e)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}const t=e!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:t,updates:t?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}})),this._ongoingAssetUploads=new Map}load(e){const t=this.layer.sourceJSON,r=this._fetchService(t,{...e}).then((()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,e))).then((()=>this._ensureLatestMetadata(e)));return this.addResolvingPromise(r),Promise.resolve(this)}initialize(){this.addHandles([y((()=>{const e=this.layer;return e&&\"lastEditsEventDate\"in e?e.lastEditsEventDate:null}),(e=>this._handleLastEditsEventChange(e)))])}destroy(){this._removeEditInterceptor()}get queryTask(){const{capabilities:e,parsedUrl:t,gdbVersion:r,spatialReference:s,fieldsIndex:a}=this.layer,i=\"infoFor3D\"in this.layer?this.layer.infoFor3D:null,n=\"dynamicDataSource\"in this.layer?this.layer.dynamicDataSource:null,o=has(\"featurelayer-pbf\")&&e?.query.supportsFormatPBF&&null==i,u=e?.operations?.supportsQueryAttachments??!1;return new v({url:t.path,pbfSupported:o,fieldsIndex:a,infoFor3D:i,dynamicDataSource:n,gdbVersion:r,sourceSpatialReference:s,queryAttachmentsSupported:u})}async addAttachment(e,t){await this.load();const{layer:s}=this;await M(s,\"editing\");const a=e.attributes[s.objectIdField],i=s.parsedUrl.path+\"/\"+a+\"/addAttachment\",n=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,n.query);try{const e=await r(i,{body:o});return _(e.data.addAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async updateAttachment(e,t,s){await this.load();const{layer:a}=this;await M(a,\"editing\");const i=e.attributes[a.objectIdField],n=a.parsedUrl.path+\"/\"+i+\"/updateAttachment\",o=this._getLayerRequestOptions({query:{attachmentId:t}}),u=this._getFormDataForAttachment(s,o.query);try{const e=await r(n,{body:u});return _(e.data.updateAttachmentResult)}catch(l){throw this._createAttachmentErrorResult(i,l)}}async applyEdits(e,t){await this.load();const{layer:s}=this;await M(s,\"editing\");const i=\"infoFor3D\"in s?s.infoFor3D:null,o=null!=i,u=o||(t?.globalIdUsed??!1),l=o?await this._uploadMeshesAndGetAssetMapEditsJSON(e):null,c=e.addFeatures?.map((e=>b(this.layer,e,i)))??[],d=(await Promise.all(c)).filter(a),p=e.updateFeatures?.map((e=>b(this.layer,e,i)))??[],h=(await Promise.all(p)).filter(a),y=R(this.layer,e.deleteFeatures,u);J(d,h,s.spatialReference);const m=await A(this.layer,e),f=s.capabilities.editing.supportsAsyncApplyEdits&&o,g=t?.gdbVersion||s.gdbVersion,w={gdbVersion:g,rollbackOnFailure:t?.rollbackOnFailureEnabled,useGlobalIds:u,returnEditMoment:t?.returnEditMoment,usePreviousEditMoment:t?.usePreviousEditMoment,async:f};await k(this.layer.url,g,!0);const S=C(this.layer.url,g||null);if(await L(s.url,g,s.historicMoment))throw new n(\"feature-layer-source:historic-version\",\"Editing a historic version is not allowed\");t?.returnServiceEditsOption?(w.edits=JSON.stringify([{id:s.layerId,adds:d.length?d:null,updates:h.length?h:null,deletes:y.length?y:null,attachments:m,assetMaps:l}]),w.returnServiceEditsOption=V.toJSON(t?.returnServiceEditsOption),w.returnServiceEditsInSourceSR=t?.returnServiceEditsInSourceSR):(w.adds=d.length?JSON.stringify(d):null,w.updates=h.length?JSON.stringify(h):null,w.deletes=y.length?u?JSON.stringify(y):y.join(\",\"):null,w.attachments=m&&JSON.stringify(m),w.assetMaps=null!=l?JSON.stringify(l):void 0);const q=this._getLayerRequestOptions({method:\"post\",query:w});S&&(q.authMode=\"immediate\",q.query.returnEditMoment=!0,q.query.sessionId=Q);const E=t?.returnServiceEditsOption?s.url:s.parsedUrl.path;let O;try{O=f?await this._asyncApplyEdits(E+\"/applyEdits\",q):await r(E+\"/applyEdits\",q)}catch(_){if(!F(_))throw _;q.authMode=\"immediate\",O=f?await this._asyncApplyEdits(E+\"/applyEdits\",q):await r(E+\"/applyEdits\",q)}return this._createEditsResult(O)}async deleteAttachments(e,t){await this.load();const{layer:s}=this;await M(s,\"editing\");const a=e.attributes[s.objectIdField],i=s.parsedUrl.path+\"/\"+a+\"/deleteAttachments\";try{return(await r(i,this._getLayerRequestOptions({query:{attachmentIds:t.join(\",\")},method:\"post\"}))).data.deleteAttachmentResults.map(_)}catch(n){throw this._createAttachmentErrorResult(a,n)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:a,url:i}=this.layer,{data:n}=await r(`${i}/${a}`,t),{id:o,extent:u,fullExtent:l,timeExtent:c}=n,d=u||l;return{id:o,fullExtent:d&&S.fromJSON(d),timeExtent:c&&s.fromJSON({start:c[0],end:c[1]})}}))}async queryAttachments(e,t={}){await this.load();const r=this._getLayerRequestOptions(t);return this.queryTask.executeAttachmentQuery(e,r)}async queryFeatures(e,t){await this.load();const r=await this.queryTask.execute(e,{...t,query:this._createRequestQueryOptions(t)});return e.outStatistics?.length&&r.features.length&&r.features.forEach((t=>{const r=t.attributes;e.outStatistics?.forEach((({outStatisticFieldName:e})=>{if(e){const t=e.toLowerCase();t&&t in r&&e!==t&&(r[e]=r[t],delete r[t])}}))})),r}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:this._createRequestQueryOptions(t)})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopFeatures(e,t){return await this.load(),this.queryTask.executeTopFeaturesQuery(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopObjectIds(e,t){return await this.load(),this.queryTask.executeForTopIds(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopExtents(e,t){return await this.load(),this.queryTask.executeForTopExtents(e,{...t,query:this._createRequestQueryOptions(t)})}async queryTopCount(e,t){return await this.load(),this.queryTask.executeForTopCount(e,{...t,query:this._createRequestQueryOptions(t)})}async fetchPublishingStatus(){if(!T(this.layer.url))return\"unavailable\";const e=m(this.layer.url,\"status\"),t=await r(e,{query:{f:\"json\"}});return $.fromJSON(t.data.status)}async uploadAssets(e,t){const{uploadAssets:r}=await import(\"./support/uploadAssets.js\");return r(e,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},t)}_handleLastEditsEventChange(e){const t=this.layer;if(null==e||!(\"capabilities\"in t)||!(\"effectiveCapabilities\"in t))return;if(!(!t.capabilities?.operations?.supportsEditing&&t.effectiveCapabilities?.operations?.supportsEditing))return;const r=t.url;if(null==r)return;\"layerId\"in t&&m(r,t.layerId.toString());this._getOrCreateEditInterceptor(r).before=t=>{const r=t.requestOptions.method??\"auto\";if(\"auto\"===r||\"head\"===r){const r=t.requestOptions.query??{};r._ts=e.getTime(),t.requestOptions.query=r}}}_getOrCreateEditInterceptor(e){return null==this._editInterceptor&&(this._editInterceptor={urls:e},t.request.internalInterceptors.push(this._editInterceptor)),this._editInterceptor}_removeEditInterceptor(){null!=this._editInterceptor&&(i(t.request.internalInterceptors,this._editInterceptor),this._editInterceptor=null)}async _asyncApplyEdits(e,t){const s=(await r(e,t)).data.statusUrl;for(;;){const e=(await r(s,{query:{f:\"json\"},responseType:\"json\"})).data;switch(e.status){case\"Completed\":return r(e.resultUrl,{query:{f:\"json\"},responseType:\"json\"});case\"CompletedWithErrors\":throw new n(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed.\");case\"Failed ImportChanges\":case\"InProgress\":case\"Pending\":case\"ExportAttachments\":case\"ExportChanges\":case\"ExportingData\":case\"ExportingSnapshot\":case\"ImportAttachments\":case\"ProvisioningReplica\":case\"UnRegisteringReplica\":break;default:throw new n(\"async-applyEdits-failed\",\"asynchronous applyEdits call failed (undefined response status)\")}await p(H)}}_createRequestQueryOptions(e){const t={...this.layer.customParameters,token:this.layer.apiKey,...e?.query};return this.layer.datesInUnknownTimezone&&(t.timeReferenceUnknownClient=!0),t}async _fetchService(e,t){if(!e){const s={};has(\"featurelayer-advanced-symbols\")&&(s.returnAdvancedSymbols=!0),t?.cacheBust&&(s._ts=Date.now());const{data:a}=await r(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:s,signal:t?.signal}));e=a}this.sourceJSON=await this._patchServiceJSON(e,t?.signal);const s=e.type;if(!this.supportedSourceTypes.has(s))throw new n(\"feature-layer-source:unsupported-type\",`Source type \"${s}\" is not supported`)}async _patchServiceJSON(e,t){if(\"Table\"!==e.type&&e.geometryType&&!e?.drawingInfo?.renderer&&!e.defaultSymbol){const t=j(e.geometryType).renderer;c(\"drawingInfo.renderer\",t,e)}if(\"esriGeometryMultiPatch\"===e.geometryType&&e.infoFor3D&&(e.geometryType=\"mesh\"),null==e.extent)try{const{data:s}=await r(this.layer.url,this._getLayerRequestOptions({signal:t}));s.spatialReference&&(e.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:s.spatialReference})}catch(s){h(s)}return e}async _ensureLatestMetadata(e){if(this.layer.userHasUpdateItemPrivileges&&this.sourceJSON.cacheMaxAge>0)return this._fetchService(null,{...e,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(e){const{addAssetFeatures:t}=e;if(!t?.length)return null;if(await this._areAllAssetsAlreadyMapped(t))return null;const r=e.addFeatures.filter((e=>e.geometry));if(t.length!==r.length+e.updateFeatures.length)throw new n(\"feature-layer-source:unsupported-mesh-edits\",\"Mixing attribute only edits with mesh geometry edits is not currently supported\");const s=new Array,a=new Map;for(const i of t){const{geometry:e}=i,{vertexSpace:t}=e;if(E(t))s.push(e);else{const t=e.anchor,{convertMeshVertexSpace:r}=await import(\"../../../geometry/support/meshUtils/convertMeshVertexSpace.js\"),n=await r(e,new q({origin:[t.x,t.y,t.z??0]}));a.set(n,e),i.geometry=n,s.push(n)}}await this.uploadAssets(s);for(const[i,n]of a)n.addExternalSources(i.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(t),updates:[],deletes:[]}}_getAssetMapEditsJSON(e){const t=new Array,r=this.layer.globalIdField,s=this.layer.parsedUrl;for(const a of e){const e=a.geometry,{metadata:i}=e,n=i.getExternalSourcesOnService(s),o=a.getAttribute(r);if(0===n.length){l.getLogger(this).error(`Skipping feature ${o}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);continue}const{source:u}=n.find(O)??n[0];for(const r of u)1===r.parts.length?t.push({globalId:f(),parentGlobalId:o,assetName:r.assetName,assetHash:r.parts[0].partHash,flags:[]}):l.getLogger(this).error(`Skipping asset ${r.assetName}. It does not have exactly one part, so we cannot map it to a feature.`)}return t}_createEditsResult(e){const t=e.data,{layerId:r}=this.layer,s=[];let a=null;if(Array.isArray(t))for(const n of t)s.push({id:n.id,editedFeatures:n.editedFeatures}),n.id===r&&(a={addResults:n.addResults??[],updateResults:n.updateResults??[],deleteResults:n.deleteResults??[],attachments:n.attachments,editMoment:n.editMoment});else a=t;const i=I(a);if(s.length>0){i.editedFeatureResults=[];for(const e of s){const{editedFeatures:t}=e,r=t?.spatialReference?new P(t.spatialReference):null;i.editedFeatureResults.push({layerId:e.id,editedFeatures:x(t,r)})}}return i}_createAttachmentErrorResult(e,t){const r=t.details.messages?.[0]||t.message,s=t.details.httpStatus||t.details.messageCode;return{objectId:e,globalId:null,error:new n(\"feature-layer-source:attachment-failure\",r,{code:s})}}_getFormDataForAttachment(e,t){const r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(const s in t){const e=t[s];null!=e&&(r.set?r.set(s,e):r.append(s,e))}return r}_getLayerRequestOptions(e={}){const{layer:t,layer:{parsedUrl:r,gdbVersion:s}}=this;return{...e,query:{gdbVersion:s,layer:\"dynamicDataSource\"in t&&t.dynamicDataSource?JSON.stringify({source:t.dynamicDataSource}):void 0,...r.query,f:\"json\",...this._createRequestQueryOptions(e)},responseType:\"json\"}}async _areAllAssetsAlreadyMapped(e){const{layer:t}=this,{globalIdField:r,parsedUrl:s}=t,i=\"infoFor3D\"in t?t.infoFor3D:null;if(null==i||null==r)return!1;const n=N(i);if(null==n)return!1;const o=m(s.path,`../${n.id}`),u=new Array;for(const a of e){if(!(a.geometry.metadata.getExternalSourcesOnService(s).length>0))return!1;u.push(a)}const l=u.map((e=>e.getAttribute(r))).filter(a);if(0===l.length)return!1;const{assetMapFieldRoles:{parentGlobalId:c,assetHash:d}}=i,p=new D({where:`${c} IN (${l.map((e=>`'${e}'`))})`,outFields:[d,c],returnGeometry:!1}),h=await U(o,p),{features:y}=h;return 0!==y.length&&!u.some((e=>{const t=e.getAttribute(r);if(!t)return!0;const{metadata:a}=e.geometry,i=y.filter((e=>e.getAttribute(c)===t));if(0===i.length)return!0;const n=i.map((e=>e.getAttribute(d)));return a.getExternalSourcesOnService(s).flatMap((({source:e})=>e.flatMap((e=>e.parts.map((e=>e.partHash)))))).some((e=>n.every((t=>e!==t))))}))}};e([g()],G.prototype,\"type\",void 0),e([g({constructOnly:!0})],G.prototype,\"layer\",void 0),e([g({constructOnly:!0})],G.prototype,\"supportedSourceTypes\",void 0),e([g({readOnly:!0})],G.prototype,\"queryTask\",null),G=e([w(\"esri.layers.graphics.sources.FeatureLayerSource\")],G);const H=1e3,z=G;export{z as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as e,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?e:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let r=`this${a(s)} = null;`;for(const s in t){r+=`this${a(s)} = ${JSON.stringify(t[s])};`}const e=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${r};\\n        }\\n      }\\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function a(t){return u.test(t)?`.${t}`:`[\"${t}\"]`}function c(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function l(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}export{l as createCapabilities,i as createDefaultAttributesFunction,c as createDefaultTemplate,o as createDrawingInfo};\n"],"names":["t","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","centroid","convexHull","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByAnonymous","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","maxRecordCount","standardMaxRecordCount","tileMaxRecordCount","F","e","applyEdits","A","objectId","v","every","I","globalId","$","async","E","a","n","s","arguments","length","undefined","o","gdbVersion","l","h","url","m","layerId","returnServiceEditsOption","i","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","r","load","type","layer","b","options","w","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","infoFor3D","editing","supportsGlobalId","globalIdUsed","M","data","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","d","getLogger","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","u","Array","from","isCollection","toArray","G","operations","supportsAdd","supportsUpdate","supportsDelete","map","x","addAssetFeatures","V","p","c","fields","filter","globalIdField","forEach","attributes","T","j","O","U","geometry","supportsGeometryUpdate","L","k","B","y","supportedFormats","g","editFormats","includes","q","push","z","D","R","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","S","error","exceededTransferLimit","historicMoment","editMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","name","f","Number","MAX_SAFE_INTEGER","feature","hasZ","capabilities","supportsZ","hasM","supportsM","spatialReference","vertexSpace","wkid","attachment","uploadId","File","supportsUploadWithItemId","isBase64","concat","slice","W","uploadAssets","transformFieldRoles","origin","transform","isGeographic","originX","originY","originZ","translation","scale","rotation","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","Promise","all","adds","updates","deletes","contentType","parentGlobalId","mediaType","success","code","description","original","current","originalAndCurrentFeatures","none","Started","Publishing","Stopped","constructor","super","this","supportedSourceTypes","Set","refresh","sourceJSON","editingInfo","lastEditDate","dataChanged","_fetchService","extent","_ongoingAssetUploads","Map","setUserPrivileges","serviceItemId","_ensureLatestMetadata","addResolvingPromise","initialize","addHandles","lastEditsEventDate","_handleLastEditsEventChange","destroy","_removeEditInterceptor","queryTask","parsedUrl","fieldsIndex","dynamicDataSource","has","query","supportsQueryAttachments","path","pbfSupported","sourceSpatialReference","queryAttachmentsSupported","addAttachment","objectIdField","_getLayerRequestOptions","_getFormDataForAttachment","_","body","addAttachmentResult","_createAttachmentErrorResult","updateAttachment","attachmentId","updateAttachmentResult","_uploadMeshesAndGetAssetMapEditsJSON","getAttribute","J","supportsAsyncApplyEdits","rollbackOnFailure","useGlobalIds","returnEditMoment","usePreviousEditMoment","C","JSON","stringify","id","attachments","assetMaps","join","method","authMode","sessionId","Q","_asyncApplyEdits","details","raw","extendedCode","_createEditsResult","attachmentIds","fetchRecomputedExtents","signal","returnUpdates","fullExtent","timeExtent","fromJSON","start","end","queryAttachments","executeAttachmentQuery","queryFeatures","execute","_createRequestQueryOptions","outStatistics","features","_ref","outStatisticFieldName","toLowerCase","queryFeaturesJSON","executeJSON","queryObjectIds","executeForIds","queryFeatureCount","executeForCount","queryExtent","executeForExtent","queryRelatedFeatures","executeRelationshipQuery","queryRelatedFeaturesCount","executeRelationshipQueryForCount","queryTopFeatures","executeTopFeaturesQuery","queryTopObjectIds","executeForTopIds","queryTopExtents","executeForTopExtents","queryTopCount","executeForTopCount","fetchPublishingStatus","status","ongoingUploads","supportsEditing","effectiveCapabilities","toString","_getOrCreateEditInterceptor","before","requestOptions","_ts","getTime","_editInterceptor","urls","request","internalInterceptors","statusUrl","responseType","resultUrl","H","customParameters","token","apiKey","datesInUnknownTimezone","timeReferenceUnknownClient","returnAdvancedSymbols","cacheBust","now","_patchServiceJSON","geometryType","drawingInfo","renderer","defaultSymbol","xmin","ymin","xmax","ymax","userHasUpdateItemPrivileges","cacheMaxAge","_areAllAssetsAlreadyMapped","anchor","convertMeshVertexSpace","set","addExternalSources","metadata","externalSources","items","_getAssetMapEditsJSON","getExternalSourcesOnService","source","find","parts","assetName","assetHash","partHash","flags","isArray","addResults","updateResults","deleteResults","P","messages","message","httpStatus","messageCode","FormData","elements","append","N","assetMapFieldRoles","where","outFields","returnGeometry","some","flatMap","_ref2","prototype","constructOnly","readOnly","symbol","Function","test","analytics","supportsAttachment","supportsAdvancedFieldProperties","supportsCalculate","supportsTruncate","supportsValidateSql","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsExceedsLimitStatistics","supportsAsyncConvert3D","queryRelated","supportsCount","supportsUpdateWithoutM","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","zDefault"],"sourceRoot":""}